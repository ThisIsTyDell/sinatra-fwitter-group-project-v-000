<!DOCTYPE html>
<html lang='en'>
<head>
  <title>RSpec results</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Expires" content="-1" />
  <meta http-equiv="Pragma" content="no-cache" />
  <style type="text/css">
  body {
    margin: 0;
    padding: 0;
    background: #fff;
    font-size: 80%;
  }
  </style>
  <script type="text/javascript">
    // <![CDATA[

function addClass(element_id, classname) {
  document.getElementById(element_id).className += (" " + classname);
}

function removeClass(element_id, classname) {
  var elem = document.getElementById(element_id);
  var classlist = elem.className.replace(classname,'');
  elem.className = classlist;
}

function moveProgressBar(percentDone) {
  document.getElementById("rspec-header").style.width = percentDone +"%";
}

function makeRed(element_id) {
  removeClass(element_id, 'passed');
  removeClass(element_id, 'not_implemented');
  addClass(element_id,'failed');
}

function makeYellow(element_id) {
  var elem = document.getElementById(element_id);
  if (elem.className.indexOf("failed") == -1) {  // class doesn't includes failed
    if (elem.className.indexOf("not_implemented") == -1) { // class doesn't include not_implemented
      removeClass(element_id, 'passed');
      addClass(element_id,'not_implemented');
    }
  }
}

function apply_filters() {
  var passed_filter = document.getElementById('passed_checkbox').checked;
  var failed_filter = document.getElementById('failed_checkbox').checked;
  var pending_filter = document.getElementById('pending_checkbox').checked;

  assign_display_style("example passed", passed_filter);
  assign_display_style("example failed", failed_filter);
  assign_display_style("example not_implemented", pending_filter);

  assign_display_style_for_group("example_group passed", passed_filter);
  assign_display_style_for_group("example_group not_implemented", pending_filter, pending_filter || passed_filter);
  assign_display_style_for_group("example_group failed", failed_filter, failed_filter || pending_filter || passed_filter);
}

function get_display_style(display_flag) {
  var style_mode = 'none';
  if (display_flag == true) {
    style_mode = 'block';
  }
  return style_mode;
}

function assign_display_style(classname, display_flag) {
  var style_mode = get_display_style(display_flag);
  var elems = document.getElementsByClassName(classname)
  for (var i=0; i<elems.length;i++) {
    elems[i].style.display = style_mode;
  }
}

function assign_display_style_for_group(classname, display_flag, subgroup_flag) {
  var display_style_mode = get_display_style(display_flag);
  var subgroup_style_mode = get_display_style(subgroup_flag);
  var elems = document.getElementsByClassName(classname)
  for (var i=0; i<elems.length;i++) {
    var style_mode = display_style_mode;
    if ((display_flag != subgroup_flag) && (elems[i].getElementsByTagName('dt')[0].innerHTML.indexOf(", ") != -1)) {
      elems[i].style.display = subgroup_style_mode;
    } else {
      elems[i].style.display = display_style_mode;
    }
  }
}

    // ]]>
  </script>
  <style type="text/css">
#rspec-header {
  background: #65C400; color: #fff; height: 4em;
}

.rspec-report h1 {
  margin: 0px 10px 0px 10px;
  padding: 10px;
  font-family: "Lucida Grande", Helvetica, sans-serif;
  font-size: 1.8em;
  position: absolute;
}

#label {
  float:left;
}

#display-filters {
  float:left;
  padding: 28px 0 0 40%;
  font-family: "Lucida Grande", Helvetica, sans-serif;
}

#summary {
  float:right;
  padding: 5px 10px;
  font-family: "Lucida Grande", Helvetica, sans-serif;
  text-align: right;
}

#summary p {
  margin: 0 0 0 2px;
}

#summary #totals {
  font-size: 1.2em;
}

.example_group {
  margin: 0 10px 5px;
  background: #fff;
}

dl {
  margin: 0; padding: 0 0 5px;
  font: normal 11px "Lucida Grande", Helvetica, sans-serif;
}

dt {
  padding: 3px;
  background: #65C400;
  color: #fff;
  font-weight: bold;
}

dd {
  margin: 5px 0 5px 5px;
  padding: 3px 3px 3px 18px;
}

dd .duration {
  padding-left: 5px;
  text-align: right;
  right: 0px;
  float:right;
}

dd.example.passed {
  border-left: 5px solid #65C400;
  border-bottom: 1px solid #65C400;
  background: #DBFFB4; color: #3D7700;
}

dd.example.not_implemented {
  border-left: 5px solid #FAF834;
  border-bottom: 1px solid #FAF834;
  background: #FCFB98; color: #131313;
}

dd.example.pending_fixed {
  border-left: 5px solid #0000C2;
  border-bottom: 1px solid #0000C2;
  color: #0000C2; background: #D3FBFF;
}

dd.example.failed {
  border-left: 5px solid #C20000;
  border-bottom: 1px solid #C20000;
  color: #C20000; background: #FFFBD3;
}


dt.not_implemented {
  color: #000000; background: #FAF834;
}

dt.pending_fixed {
  color: #FFFFFF; background: #C40D0D;
}

dt.failed {
  color: #FFFFFF; background: #C40D0D;
}


#rspec-header.not_implemented {
  color: #000000; background: #FAF834;
}

#rspec-header.pending_fixed {
  color: #FFFFFF; background: #C40D0D;
}

#rspec-header.failed {
  color: #FFFFFF; background: #C40D0D;
}


.backtrace {
  color: #000;
  font-size: 12px;
}

a {
  color: #BE5C00;
}

/* Ruby code, style similar to vibrant ink */
.ruby {
  font-size: 12px;
  font-family: monospace;
  color: white;
  background-color: black;
  padding: 0.1em 0 0.2em 0;
}

.ruby .keyword { color: #FF6600; }
.ruby .constant { color: #339999; }
.ruby .attribute { color: white; }
.ruby .global { color: white; }
.ruby .module { color: white; }
.ruby .class { color: white; }
.ruby .string { color: #66FF00; }
.ruby .ident { color: white; }
.ruby .method { color: #FFCC00; }
.ruby .number { color: white; }
.ruby .char { color: white; }
.ruby .comment { color: #9933CC; }
.ruby .symbol { color: white; }
.ruby .regex { color: #44B4CC; }
.ruby .punct { color: white; }
.ruby .escape { color: white; }
.ruby .interp { color: white; }
.ruby .expr { color: white; }

.ruby .offending { background-color: gray; }
.ruby .linenum {
  width: 75px;
  padding: 0.1em 1em 0.2em 0;
  color: #000000;
  background-color: #FFFBD3;
}

  </style>
</head>
<body>
<div class="rspec-report">

<div id="rspec-header">
  <div id="label">
    <h1>RSpec Code Examples</h1>
  </div>

  <div id="display-filters">
    <input id="passed_checkbox"  name="passed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="1" /> <label for="passed_checkbox">Passed</label>
    <input id="failed_checkbox"  name="failed_checkbox"  type="checkbox" checked="checked" onchange="apply_filters()" value="2" /> <label for="failed_checkbox">Failed</label>
    <input id="pending_checkbox" name="pending_checkbox" type="checkbox" checked="checked" onchange="apply_filters()" value="3" /> <label for="pending_checkbox">Pending</label>
  </div>

  <div id="summary">
    <p id="totals">&#160;</p>
    <p id="duration">&#160;</p>
  </div>
</div>


<div class="results">
<div id="div_group_1" class="example_group passed">
  <dl style="margin-left: 0px;">
  <dt id="example_group_1" class="passed">ApplicationController</dt>
  </dl>
</div>
<div id="div_group_2" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_2" class="passed">Homepage</dt>
    <script type="text/javascript">moveProgressBar('2.8');</script>
    <dd class="example passed"><span class="passed_spec_name">loads the homepage</span><span class='duration'>0.06501s</span></dd>
  </dl>
</div>
<div id="div_group_3" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_3" class="passed">Signup Page</dt>
    <script type="text/javascript">moveProgressBar('5.7');</script>
    <dd class="example passed"><span class="passed_spec_name">loads the signup page</span><span class='duration'>0.01296s</span></dd>
    <script type="text/javascript">moveProgressBar('8.5');</script>
    <dd class="example passed"><span class="passed_spec_name">signup directs user to twitter index</span><span class='duration'>0.02992s</span></dd>
    <script type="text/javascript">moveProgressBar('11.4');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user sign up without a username</span><span class='duration'>0.02201s</span></dd>
    <script type="text/javascript">moveProgressBar('14.2');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user sign up without an email</span><span class='duration'>0.01264s</span></dd>
    <script type="text/javascript">moveProgressBar('17.1');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user sign up without a password</span><span class='duration'>0.01342s</span></dd>
    <script type="text/javascript">moveProgressBar('20.0');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a logged in user view the signup page</span><span class='duration'>0.02143s</span></dd>
  </dl>
</div>
<div id="div_group_4" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_4" class="passed">login</dt>
    <script type="text/javascript">moveProgressBar('22.8');</script>
    <dd class="example passed"><span class="passed_spec_name">loads the login page</span><span class='duration'>0.01263s</span></dd>
    <script type="text/javascript">makeRed('rspec-header');</script>
    <script type="text/javascript">makeRed('div_group_4');</script>
    <script type="text/javascript">makeRed('example_group_4');</script>
    <script type="text/javascript">moveProgressBar('25.7');</script>
    <dd class="example failed">
      <span class="failed_spec_name">loads the tweets index after login</span>
      <span class="duration">0.13001s</span>
      <div class="failure" id="failure_1">
        <div class="message"><pre>
expected: 200
     got: 500

(compared using ==)
</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:90:in `block (3 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">88</span>      expect(last_response.status).to eq(<span class="integer">302</span>)
<span class="linenum">89</span>      follow_redirect!
<span class="offending"><span class="linenum">90</span>      expect(last_response.status).to eq(<span class="integer">200</span>)</span>
<span class="linenum">91</span>      expect(last_response.body).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">Welcome,</span><span class="delimiter">&quot;</span></span>)
<span class="linenum">92</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('28.5');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let user view login page if already logged in</span><span class='duration'>0.02287s</span></dd>
  </dl>
</div>
<div id="div_group_5" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_5" class="passed">logout</dt>
    <script type="text/javascript">moveProgressBar('31.4');</script>
    <dd class="example passed"><span class="passed_spec_name">lets a user logout if they are already logged in</span><span class='duration'>0.01901s</span></dd>
    <script type="text/javascript">moveProgressBar('34.2');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user logout if not logged in</span><span class='duration'>0.01155s</span></dd>
    <script type="text/javascript">moveProgressBar('37.1');</script>
    <dd class="example passed"><span class="passed_spec_name">does not load /tweets if user not logged in</span><span class='duration'>0.01188s</span></dd>
    <script type="text/javascript">moveProgressBar('40.0');</script>
    <dd class="example passed"><span class="passed_spec_name">does load /tweets if user is logged in</span><span class='duration'>0.13398s</span></dd>
  </dl>
</div>
<div id="div_group_6" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_6" class="passed">user show page</dt>
    <script type="text/javascript">makeRed('div_group_6');</script>
    <script type="text/javascript">makeRed('example_group_6');</script>
    <script type="text/javascript">moveProgressBar('42.8');</script>
    <dd class="example failed">
      <span class="failed_spec_name">shows all a single users tweets</span>
      <span class="duration">0.02624s</span>
      <div class="failure" id="failure_2">
        <div class="message"><pre>expected &quot;&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;style type=\&quot;text/css\&quot;&gt;\n  body { text-align:center;font-family:helvetica,arial;font-size:22px;\n    color:#888;margin:20px}\n  #c {margin:0 auto;width:500px;text-align:left}\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h2&gt;Sinatra doesn&amp;rsquo;t know this ditty.&lt;/h2&gt;\n  &lt;img src=&#39;http://example.org/__sinatra__/404.png&#39;&gt;\n  &lt;div id=\&quot;c\&quot;&gt;\n    Try this:\n    &lt;pre&gt;# in application_controller.rb\nclass ApplicationController\n  get &amp;#x27;&amp;#x2F;users&amp;#x2F;becky567&amp;#x27; do\n    &amp;quot;Hello World&amp;quot;\n  end\nend\n&lt;/pre&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot; to include &quot;tweeting!&quot;
Diff:[0m
[0m[34m@@ -1,2 +1,25 @@
[0m[31m-tweeting!
[0m[32m+&lt;!DOCTYPE html&gt;
[0m[32m+&lt;html&gt;
[0m[32m+&lt;head&gt;
[0m[32m+  &lt;style type=&quot;text/css&quot;&gt;
[0m[32m+  body { text-align:center;font-family:helvetica,arial;font-size:22px;
[0m[32m+    color:#888;margin:20px}
[0m[32m+  #c {margin:0 auto;width:500px;text-align:left}
[0m[32m+  &lt;/style&gt;
[0m[32m+&lt;/head&gt;
[0m[32m+&lt;body&gt;
[0m[32m+  &lt;h2&gt;Sinatra doesn&amp;rsquo;t know this ditty.&lt;/h2&gt;
[0m[32m+  &lt;img src=&#39;http://example.org/__sinatra__/404.png&#39;&gt;
[0m[32m+  &lt;div id=&quot;c&quot;&gt;
[0m[32m+    Try this:
[0m[32m+    &lt;pre&gt;# in application_controller.rb
[0m[32m+class ApplicationController
[0m[32m+  get &amp;#x27;&amp;#x2F;users&amp;#x2F;becky567&amp;#x27; do
[0m[32m+    &amp;quot;Hello World&amp;quot;
[0m[32m+  end
[0m[32m+end
[0m[32m+&lt;/pre&gt;
[0m[32m+  &lt;/div&gt;
[0m[32m+&lt;/body&gt;
[0m[32m+&lt;/html&gt;
[0m</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:154:in `block (3 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">152</span>      get <span class="string"><span class="delimiter">&quot;</span><span class="content">/users/</span><span class="inline"><span class="inline-delimiter">#{</span>user.slug<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
<span class="linenum">153</span>
<span class="offending"><span class="linenum">154</span>      expect(last_response.body).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">tweeting!</span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">155</span>      expect(last_response.body).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">tweet tweet tweet</span><span class="delimiter">&quot;</span></span>)</code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_7" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_7" class="passed">index action</dt>
  </dl>
</div>
<div id="div_group_8" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_8" class="passed">logged in</dt>
    <script type="text/javascript">makeRed('div_group_8');</script>
    <script type="text/javascript">makeRed('example_group_8');</script>
    <script type="text/javascript">moveProgressBar('45.7');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets a user view the tweets index if logged in</span>
      <span class="duration">0.36516s</span>
      <div class="failure" id="failure_3">
        <div class="message"><pre>expected &quot;&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=utf-8\&quot;/&gt;\n  &lt;title&gt;NoMethodError at &amp;#x2F;tweets&lt;/title&gt;\n\n  &lt;script type=\&quot;text/javascript\&quot;&gt;\n  //&lt;!--\n  function toggle(id) {\n    var pre  = document.getElementById(\&quot;pre-\&quot; + id);\n    var post = document.getElementById(\&quot;post-\&quot; + id);\n    var context = document.getElementById(\&quot;context-\&quot; + id);\n\n    if (pre.style.display == &#39;block&#39;) {\n      pre.style.display = &#39;none&#39;;\n      post.style.display = &#39;none&#39;;\n      context.style.background = \&quot;none\&quot;;\n    } else {\n      pre.style.display = &#39;block&#39;;\n      post.style.display = &#39;block&#39;;\n      context.style.background = \&quot;#fffed9\&quot;;\n    }\n  }\n\n  function toggleBacktrace(){\n    var bt = document.getElementById(\&quot;backtrace\&quot;);\n    var toggler = document.getElementById(\&quot;expando\&quot;);\n\n    if (bt.className == &#39;condensed&#39;) {\n      bt.className = &#39;expanded&#39;;\n      toggler.innerHTML = \&quot;(condense)\&quot;;\n    } else {\n      bt.className = &#39;condensed&#39;;\n      toggler.innerHTML = \&quot;(expand)\&quot;;\n    }\n  }\n  //--&gt;\n  &lt;/script&gt;\n\n&lt;style type=\&quot;text/css\&quot; media=\&quot;screen\&quot;&gt;\n  *                   {margin: 0; padding: 0; border: 0; outline: 0;}\n  div.clear           {clear: both;}\n  body                {background: #EEEEEE; margin: 0; padding: 0;\n                       font-family: &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;,\n                       &#39;Garuda&#39;;}\n  code                {font-family: &#39;Lucida Console&#39;, monospace;\n                       font-size: 12px;}\n  li                  {height: 18px;}\n  ul                  {list-style: none; margin: 0; padding: 0;}\n  ol:hover            {cursor: pointer;}\n  ol li               {white-space: pre;}\n  #explanation        {font-size: 12px; color: #666666;\n                       margin: 20px 0 0 100px;}\n/* WRAP */\n  #wrap               {width: 1000px; background: #FFFFFF; margin: 0 auto;\n                       padding: 30px 50px 20px 50px;\n                       border-left: 1px solid #DDDDDD;\n                       border-right: 1px solid #DDDDDD;}\n/* HEADER */\n  #header             {margin: 0 auto 25px auto;}\n  #header img         {float: left;}\n  #header #summary    {float: left; margin: 12px 0 0 20px; width:660px;\n                       font-family: &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;;}\n  h1                  {margin: 0; font-size: 36px; color: #981919;}\n  h2                  {margin: 0; font-size: 22px; color: #333333;}\n  #header ul          {margin: 0; font-size: 12px; color: #666666;}\n  #header ul li strong{color: #444444;}\n  #header ul li       {display: inline; padding: 0 10px;}\n  #header ul li.first {padding-left: 0;}\n  #header ul li.last  {border: 0; padding-right: 0;}\n/* BODY */\n  #backtrace,\n  #get,\n  #post,\n  #cookies,\n  #rack               {width: 980px; margin: 0 auto 10px auto;}\n  p#nav               {float: right; font-size: 14px;}\n/* BACKTRACE */\n  a#expando           {float: left; padding-left: 5px; color: #666666;\n                      font-size: 14px; text-decoration: none; cursor: pointer;}\n  a#expando:hover     {text-decoration: underline;}\n  h3                  {float: left; width: 100px; margin-bottom: 10px;\n                       color: #981919; font-size: 14px; font-weight: bold;}\n  #nav a              {color: #666666; text-decoration: none; padding: 0 5px;}\n  #backtrace li.frame-info {background: #f7f7f7; padding-left: 10px;\n                           font-size: 12px; color: #333333;}\n  #backtrace ul       {list-style-position: outside; border: 1px solid #E9E9E9;\n                       border-bottom: 0;}\n  #backtrace ol       {width: 920px; margin-left: 50px;\n                       font: 10px &#39;Lucida Console&#39;, monospace; color: #666666;}\n  #backtrace ol li    {border: 0; border-left: 1px solid #E9E9E9;\n                       padding: 2px 0;}\n  #backtrace ol code  {font-size: 10px; color: #555555; padding-left: 5px;}\n  #backtrace-ul li    {border-bottom: 1px solid #E9E9E9; height: auto;\n                       padding: 3px 0;}\n  #backtrace-ul .code {padding: 6px 0 4px 0;}\n  #backtrace.condensed .system,\n  #backtrace.condensed .framework {display:none;}\n/* REQUEST DATA */\n  p.no-data           {padding-top: 2px; font-size: 12px; color: #666666;}\n  table.req           {width: 980px; text-align: left; font-size: 12px;\n                       color: #666666; padding: 0; border-spacing: 0;\n                       border: 1px solid #EEEEEE; border-bottom: 0;\n                       border-left: 0;\n                       clear:both}\n  table.req tr th     {padding: 2px 10px; font-weight: bold;\n                       background: #F7F7F7; border-bottom: 1px solid #EEEEEE;\n                       border-left: 1px solid #EEEEEE;}\n  table.req tr td     {padding: 2px 20px 2px 10px;\n                       border-bottom: 1px solid #EEEEEE;\n                       border-left: 1px solid #EEEEEE;}\n/* HIDE PRE/POST CODE AT START */\n  .pre-context,\n  .post-context       {display: none;}\n\n  table td.code       {width:750px}\n  table td.code div   {width:750px;overflow:hidden}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\&quot;wrap\&quot;&gt;\n    &lt;div id=\&quot;header\&quot;&gt;\n      &lt;img src=\&quot;/__sinatra__/500.png\&quot; alt=\&quot;application error\&quot; height=\&quot;161\&quot; width=\&quot;313\&quot; /&gt;\n      &lt;div id=\&quot;summary\&quot;&gt;\n        &lt;h1&gt;&lt;strong&gt;NoMethodError&lt;/strong&gt; at &lt;strong&gt;&amp;#x2F;tweets\n          &lt;/strong&gt;&lt;/h1&gt;\n        &lt;h2&gt;undefined method `each&amp;#x27; for nil:NilClass&lt;/h2&gt;\n        &lt;ul&gt;\n          &lt;li class=\&quot;first\&quot;&gt;&lt;strong&gt;file:&lt;/strong&gt; &lt;code&gt;\n            tweets.erb&lt;/code&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;strong&gt;location:&lt;/strong&gt; &lt;code&gt;block in singleton class\n            &lt;/code&gt;&lt;/li&gt;\n          &lt;li class=\&quot;last\&quot;&gt;&lt;strong&gt;line:\n            &lt;/strong&gt; 2&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\&quot;backtrace\&quot; class=&#39;condensed&#39;&gt;\n      &lt;h3&gt;BACKTRACE&lt;/h3&gt;\n      &lt;p&gt;&lt;a href=\&quot;#\&quot; id=\&quot;expando\&quot;\n            onclick=\&quot;toggleBacktrace(); return false\&quot;&gt;(expand)&lt;/a&gt;&lt;/p&gt;\n      &lt;p id=\&quot;nav\&quot;&gt;&lt;strong&gt;JUMP TO:&lt;/strong&gt;\n         &lt;a href=\&quot;#get-info\&quot;&gt;GET&lt;/a&gt;\n         &lt;a href=\&quot;#post-info\&quot;&gt;POST&lt;/a&gt;\n         &lt;a href=\&quot;#cookie-info\&quot;&gt;COOKIES&lt;/a&gt;\n         &lt;a href=\&quot;#env-info\&quot;&gt;ENV&lt;/a&gt;\n      &lt;/p&gt;\n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n\n      &lt;ul id=\&quot;backtrace-ul\&quot;&gt;\n\n      \n      \n          \n\n            &lt;li class=\&quot;frame-info app\&quot;&gt;\n              &lt;code&gt;app&amp;#x2F;views&amp;#x2F;tweets&amp;#x2F;tweets.erb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in singleton class&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code app\&quot;&gt;\n              \n              &lt;ol start=\&quot;1\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-1\&quot;\n                  onclick=\&quot;toggle(1);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;2\&quot; class=\&quot;context\&quot; id=\&quot;1\&quot;\n                  onclick=\&quot;toggle(1);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-1\&quot;&gt;&lt;code&gt;&amp;lt;% @user_tweets.each do |tweet| %&amp;gt;&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;3\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-1\&quot; onclick=\&quot;toggle(1);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  &amp;lt;p&amp;gt;&amp;lt;%= tweet.user.username %&amp;gt; - &amp;lt;%= tweet.content %&amp;gt;&amp;lt;&amp;#x2F;p&amp;gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;&amp;lt;% end %&amp;gt;&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;148\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-2\&quot;\n                  onclick=\&quot;toggle(2);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # evaluation is guaranteed to be performed in the scope object with the\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # locals specified and with support for yielding to the block.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # This method is only used by source generating templates. Subclasses that\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # override render() may not support all features.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def evaluate(scope, locals, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      method = compiled_method(locals.keys)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;155\&quot; class=\&quot;context\&quot; id=\&quot;2\&quot;\n                  onclick=\&quot;toggle(2);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-2\&quot;&gt;&lt;code&gt;      method.bind(scope).call(locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;156\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-2\&quot; onclick=\&quot;toggle(2);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # Generates all template source by combining the preamble, template, and\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # postamble and returns a two-tuple of the form: [source, offset], where\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # source is the string containing (Ruby) source code for the template and\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # offset is the integer line offset where line reporting should begin.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;evaluate&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;148\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-3\&quot;\n                  onclick=\&quot;toggle(3);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # evaluation is guaranteed to be performed in the scope object with the\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # locals specified and with support for yielding to the block.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # This method is only used by source generating templates. Subclasses that\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # override render() may not support all features.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def evaluate(scope, locals, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      method = compiled_method(locals.keys)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;155\&quot; class=\&quot;context\&quot; id=\&quot;3\&quot;\n                  onclick=\&quot;toggle(3);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-3\&quot;&gt;&lt;code&gt;      method.bind(scope).call(locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;156\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-3\&quot; onclick=\&quot;toggle(3);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # Generates all template source by combining the preamble, template, and\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # postamble and returns a two-tuple of the form: [source, offset], where\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # source is the string containing (Ruby) source code for the template and\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # offset is the integer line offset where line reporting should begin.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;render&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;89\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-4\&quot;\n                  onclick=\&quot;toggle(4);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Render the template in the given scope with the locals specified. If a\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # block is given, it is typically available within the template via\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # +yield+.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def render(scope=Object.new, locals={}, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      current_template = Thread.current[:tilt_current_template]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Thread.current[:tilt_current_template] = self\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;96\&quot; class=\&quot;context\&quot; id=\&quot;4\&quot;\n                  onclick=\&quot;toggle(4);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-4\&quot;&gt;&lt;code&gt;      evaluate(scope, locals || {}, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;97\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-4\&quot; onclick=\&quot;toggle(4);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      Thread.current[:tilt_current_template] = current_template\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # The basename of the template file.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def basename(suffix=&amp;#x27;&amp;#x27;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      File.basename(file, suffix) if file\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;render&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;815\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-5\&quot;\n                  onclick=\&quot;toggle(5);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      options[:default_encoding] ||= settings.default_encoding\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # compile and render template\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        layout_was      = @default_layout\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @default_layout = false\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        template        = compile_template(engine, data, options, views)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;822\&quot; class=\&quot;context\&quot; id=\&quot;5\&quot;\n                  onclick=\&quot;toggle(5);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-5\&quot;&gt;&lt;code&gt;        output          = template.render(scope, locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;823\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-5\&quot; onclick=\&quot;toggle(5);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        @default_layout = layout_was\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # render layout\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if layout\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        options = options.merge(:views =&amp;gt; views, :layout =&amp;gt; false, :eat_errors =&amp;gt; eat_errors, :scope =&amp;gt; scope).\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;erb&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;659\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-6\&quot;\n                  onclick=\&quot;toggle(6);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def initialize\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      super\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @default_layout = :layout\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @preferred_extension = nil\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def erb(template, options = {}, locals = {}, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;666\&quot; class=\&quot;context\&quot; id=\&quot;6\&quot;\n                  onclick=\&quot;toggle(6);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-6\&quot;&gt;&lt;code&gt;      render(:erb, template, options, locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;667\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-6\&quot; onclick=\&quot;toggle(6);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def erubis(template, options = {}, locals = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      warn &amp;quot;Sinatra::Templates#erubis is deprecated and will be removed, use #erb instead.\\n&amp;quot; \\\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        &amp;quot;If you have Erubis installed, it will be used automatically.&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      render :erubis, template, options, locals\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info app\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;Development&amp;#x2F;Learn&amp;#x2F;Sinatra&amp;#x2F;Sinatra Project Mode&amp;#x2F;sinatra-fwitter-group-project-v-000&amp;#x2F;app&amp;#x2F;controllers&amp;#x2F;application_controller.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in &amp;lt;class:ApplicationController&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code app\&quot;&gt;\n              \n              &lt;ol start=\&quot;48\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-7\&quot;\n                  onclick=\&quot;toggle(7);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      erb :&amp;#x27;users&amp;#x2F;login&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  get &amp;#x27;&amp;#x2F;tweets&amp;#x27; do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    if session[:user_id]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @tweets = Tweet.all\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;55\&quot; class=\&quot;context\&quot; id=\&quot;7\&quot;\n                  onclick=\&quot;toggle(7);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-7\&quot;&gt;&lt;code&gt;      erb :&amp;#x27;tweets&amp;#x2F;tweets&amp;#x27;&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;56\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-7\&quot; onclick=\&quot;toggle(7);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      redirect to &amp;#x27;&amp;#x2F;login&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  get &amp;#x27;&amp;#x2F;logout&amp;#x27; do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    session.clear\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1603\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-8\&quot;\n                  onclick=\&quot;toggle(8);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        method_name             = &amp;quot;\#{verb} \#{path}&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unbound_method          = generate_method(method_name, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        pattern, keys           = compile path\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        conditions, @conditions = @conditions, []\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        wrapper                 = block.arity != 0 ?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call(*p) } :\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1610\&quot; class=\&quot;context\&quot; id=\&quot;8\&quot;\n                  onclick=\&quot;toggle(8);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-8\&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1611\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-8\&quot; onclick=\&quot;toggle(8);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        wrapper.instance_variable_set(:@route_name, method_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        [ pattern, keys, conditions, wrapper ]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def compile(path)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if path.respond_to? :to_str\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in compile!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1603\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-9\&quot;\n                  onclick=\&quot;toggle(9);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        method_name             = &amp;quot;\#{verb} \#{path}&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unbound_method          = generate_method(method_name, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        pattern, keys           = compile path\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        conditions, @conditions = @conditions, []\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        wrapper                 = block.arity != 0 ?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call(*p) } :\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1610\&quot; class=\&quot;context\&quot; id=\&quot;9\&quot;\n                  onclick=\&quot;toggle(9);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-9\&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1611\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-9\&quot; onclick=\&quot;toggle(9);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        wrapper.instance_variable_set(:@route_name, method_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        [ pattern, keys, conditions, wrapper ]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def compile(path)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if path.respond_to? :to_str\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;[]&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;967\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-10\&quot;\n                  onclick=\&quot;toggle(10);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;974\&quot; class=\&quot;context\&quot; id=\&quot;10\&quot;\n                  onclick=\&quot;toggle(10);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-10\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;975\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-10\&quot; onclick=\&quot;toggle(10);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (3 levels) in route!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;967\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-11\&quot;\n                  onclick=\&quot;toggle(11);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;974\&quot; class=\&quot;context\&quot; id=\&quot;11\&quot;\n                  onclick=\&quot;toggle(11);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-11\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;975\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-11\&quot; onclick=\&quot;toggle(11);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;route_eval&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;986\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-12\&quot;\n                  onclick=\&quot;toggle(12);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      route_eval(&amp;amp;pass_block) if pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      route_missing\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run a route block and throw :halt with the result.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route_eval\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;993\&quot; class=\&quot;context\&quot; id=\&quot;12\&quot;\n                  onclick=\&quot;toggle(12);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-12\&quot;&gt;&lt;code&gt;      throw :halt, yield&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;994\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-12\&quot; onclick=\&quot;toggle(12);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # If the current request matches pattern and conditions, fill params\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # with keys and call the given block.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # Revert params afterwards.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # Returns pass block.\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (2 levels) in route!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;967\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-13\&quot;\n                  onclick=\&quot;toggle(13);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;974\&quot; class=\&quot;context\&quot; id=\&quot;13\&quot;\n                  onclick=\&quot;toggle(13);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-13\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;975\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-13\&quot; onclick=\&quot;toggle(13);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in process_route&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1007\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-14\&quot;\n                  onclick=\&quot;toggle(14);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if values.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      catch(:pass) do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1014\&quot; class=\&quot;context\&quot; id=\&quot;14\&quot;\n                  onclick=\&quot;toggle(14);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-14\&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1015\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-14\&quot; onclick=\&quot;toggle(14);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @params = original if original\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # No matching route was found or all routes passed. The default\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # implementation is to forward the request downstream when running\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1005\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-15\&quot;\n                  onclick=\&quot;toggle(15);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      values += match.captures.map! { |v| force_encoding URI_INSTANCE.unescape(v) if v }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if values.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1012\&quot; class=\&quot;context\&quot; id=\&quot;15\&quot;\n                  onclick=\&quot;toggle(15);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-15\&quot;&gt;&lt;code&gt;      catch(:pass) do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1013\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-15\&quot; onclick=\&quot;toggle(15);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @params = original if original\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;process_route&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1005\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-16\&quot;\n                  onclick=\&quot;toggle(16);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      values += match.captures.map! { |v| force_encoding URI_INSTANCE.unescape(v) if v }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if values.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1012\&quot; class=\&quot;context\&quot; id=\&quot;16\&quot;\n                  onclick=\&quot;toggle(16);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-16\&quot;&gt;&lt;code&gt;      catch(:pass) do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1013\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-16\&quot; onclick=\&quot;toggle(16);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @params = original if original\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in route!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;965\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-17\&quot;\n                  onclick=\&quot;toggle(17);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;972\&quot; class=\&quot;context\&quot; id=\&quot;17\&quot;\n                  onclick=\&quot;toggle(17);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-17\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;973\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-17\&quot; onclick=\&quot;toggle(17);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;each&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;964\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-18\&quot;\n                  onclick=\&quot;toggle(18);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      filter! type, base.superclass if base.superclass.respond_to?(:filters)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;971\&quot; class=\&quot;context\&quot; id=\&quot;18\&quot;\n                  onclick=\&quot;toggle(18);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-18\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;972\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-18\&quot; onclick=\&quot;toggle(18);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;route!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;964\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-19\&quot;\n                  onclick=\&quot;toggle(19);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      filter! type, base.superclass if base.superclass.respond_to?(:filters)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;971\&quot; class=\&quot;context\&quot; id=\&quot;19\&quot;\n                  onclick=\&quot;toggle(19);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-19\&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;972\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-19\&quot; onclick=\&quot;toggle(19);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            route_eval { block[*args] }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in dispatch!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1077\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-20\&quot;\n                  onclick=\&quot;toggle(20);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Dispatch a request with error handling.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def dispatch!\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      invoke do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        static! if settings.static? &amp;amp;&amp;amp; (request.get? || request.head?)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        filter! :before\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1084\&quot; class=\&quot;context\&quot; id=\&quot;20\&quot;\n                  onclick=\&quot;toggle(20);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-20\&quot;&gt;&lt;code&gt;        route!&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1085\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-20\&quot; onclick=\&quot;toggle(20);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    rescue ::Exception =&amp;gt; boom\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      invoke { handle_exception!(boom) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        filter! :after unless env[&amp;#x27;sinatra.static_file&amp;#x27;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      rescue ::Exception =&amp;gt; boom\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in invoke&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-21\&quot;\n                  onclick=\&quot;toggle(21);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;21\&quot;\n                  onclick=\&quot;toggle(21);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-21\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-21\&quot; onclick=\&quot;toggle(21);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-22\&quot;\n                  onclick=\&quot;toggle(22);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;22\&quot;\n                  onclick=\&quot;toggle(22);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-22\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-22\&quot; onclick=\&quot;toggle(22);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-23\&quot;\n                  onclick=\&quot;toggle(23);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;23\&quot;\n                  onclick=\&quot;toggle(23);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-23\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-23\&quot; onclick=\&quot;toggle(23);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;dispatch!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1074\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-24\&quot;\n                  onclick=\&quot;toggle(24);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        body res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      nil # avoid double setting the same response tuple twice\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Dispatch a request with error handling.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def dispatch!\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1081\&quot; class=\&quot;context\&quot; id=\&quot;24\&quot;\n                  onclick=\&quot;toggle(24);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-24\&quot;&gt;&lt;code&gt;      invoke do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1082\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-24\&quot; onclick=\&quot;toggle(24);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        static! if settings.static? &amp;amp;&amp;amp; (request.get? || request.head?)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        filter! :before\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        route!\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    rescue ::Exception =&amp;gt; boom\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      invoke { handle_exception!(boom) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in call!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;899\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-25\&quot;\n                  onclick=\&quot;toggle(25);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @request  = Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @response = Response.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      template_cache.clear if settings.reload_templates\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      force_encoding(@params)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @response[&amp;#x27;Content-Type&amp;#x27;] = nil\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;906\&quot; class=\&quot;context\&quot; id=\&quot;25\&quot;\n                  onclick=\&quot;toggle(25);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-25\&quot;&gt;&lt;code&gt;      invoke { dispatch! }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;907\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-25\&quot; onclick=\&quot;toggle(25);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      invoke { error_block!(response.status) } unless @env[&amp;#x27;sinatra.error&amp;#x27;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      unless @response[&amp;#x27;Content-Type&amp;#x27;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if Array === body and body[0].respond_to? :content_type\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          content_type body[0].content_type\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          content_type :html\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in invoke&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-26\&quot;\n                  onclick=\&quot;toggle(26);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;26\&quot;\n                  onclick=\&quot;toggle(26);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-26\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-26\&quot; onclick=\&quot;toggle(26);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-27\&quot;\n                  onclick=\&quot;toggle(27);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;27\&quot;\n                  onclick=\&quot;toggle(27);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-27\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-27\&quot; onclick=\&quot;toggle(27);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1059\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-28\&quot;\n                  onclick=\&quot;toggle(28);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def indifferent_hash\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1066\&quot; class=\&quot;context\&quot; id=\&quot;28\&quot;\n                  onclick=\&quot;toggle(28);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-28\&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1067\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-28\&quot; onclick=\&quot;toggle(28);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        res = res.dup\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status(res.shift)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        body(res.pop)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers(*res)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call!&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;899\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-29\&quot;\n                  onclick=\&quot;toggle(29);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @request  = Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @response = Response.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      template_cache.clear if settings.reload_templates\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      force_encoding(@params)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @response[&amp;#x27;Content-Type&amp;#x27;] = nil\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;906\&quot; class=\&quot;context\&quot; id=\&quot;29\&quot;\n                  onclick=\&quot;toggle(29);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-29\&quot;&gt;&lt;code&gt;      invoke { dispatch! }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;907\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-29\&quot; onclick=\&quot;toggle(29);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      invoke { error_block!(response.status) } unless @env[&amp;#x27;sinatra.error&amp;#x27;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      unless @response[&amp;#x27;Content-Type&amp;#x27;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if Array === body and body[0].respond_to? :content_type\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          content_type body[0].content_type\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          content_type :html\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;887\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-30\&quot;\n                  onclick=\&quot;toggle(30);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @app = app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @template_cache = Tilt::Cache.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      yield self if block_given?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Rack call interface.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;894\&quot; class=\&quot;context\&quot; id=\&quot;30\&quot;\n                  onclick=\&quot;toggle(30);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-30\&quot;&gt;&lt;code&gt;      dup.call!(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;895\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-30\&quot; onclick=\&quot;toggle(30);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def call!(env) # :nodoc:\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @env      = env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @request  = Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @response = Response.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;xss_header.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;11\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-31\&quot;\n                  onclick=\&quot;toggle(31);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Options:\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # xss_mode:: How the browser should prevent the attack (default: :block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    class XSSHeader &amp;lt; Base\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      default_options :xss_mode =&amp;gt; :block, :nosniff =&amp;gt; true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;18\&quot; class=\&quot;context\&quot; id=\&quot;31\&quot;\n                  onclick=\&quot;toggle(31);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-31\&quot;&gt;&lt;code&gt;        status, headers, body = @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;19\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-31\&quot; onclick=\&quot;toggle(31);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-XSS-Protection&amp;#x27;]       ||= &amp;quot;1; mode=\#{options[:xss_mode]}&amp;quot; if html? headers\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-Content-Type-Options&amp;#x27;] ||= &amp;#x27;nosniff&amp;#x27;                       if options[:nosniff]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        [status, headers, body]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;42\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-32\&quot;\n                  onclick=\&quot;toggle(32);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unless accepts? env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          instrument env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result = react env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;49\&quot; class=\&quot;context\&quot; id=\&quot;32\&quot;\n                  onclick=\&quot;toggle(32);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-32\&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;50\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-32\&quot; onclick=\&quot;toggle(32);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def react(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;42\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-33\&quot;\n                  onclick=\&quot;toggle(33);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unless accepts? env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          instrument env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result = react env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;49\&quot; class=\&quot;context\&quot; id=\&quot;33\&quot;\n                  onclick=\&quot;toggle(33);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-33\&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;50\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-33\&quot; onclick=\&quot;toggle(33);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def react(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;path_traversal.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;9\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-34\&quot;\n                  onclick=\&quot;toggle(34);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Unescapes &amp;#x27;&amp;#x2F;&amp;#x27; and &amp;#x27;.&amp;#x27;, expands +path_info+.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Thus &amp;lt;tt&amp;gt;GET &amp;#x2F;foo&amp;#x2F;%2e%2e%2fbar&amp;lt;&amp;#x2F;tt&amp;gt; becomes &amp;lt;tt&amp;gt;GET &amp;#x2F;bar&amp;lt;&amp;#x2F;tt&amp;gt;.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    class PathTraversal &amp;lt; Base\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        path_was         = env[&amp;quot;PATH_INFO&amp;quot;]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        env[&amp;quot;PATH_INFO&amp;quot;] = cleanup path_was if path_was &amp;amp;&amp;amp; !path_was.empty?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;16\&quot; class=\&quot;context\&quot; id=\&quot;34\&quot;\n                  onclick=\&quot;toggle(34);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-34\&quot;&gt;&lt;code&gt;        app.call env&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;17\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-34\&quot; onclick=\&quot;toggle(34);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        env[&amp;quot;PATH_INFO&amp;quot;] = path_was\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def cleanup(path)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if path.respond_to?(:encoding)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          # Ruby 1.9+ M17N\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;json_csrf.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;11\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-35\&quot;\n                  onclick=\&quot;toggle(35);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # Array prototype has been patched to track data. Checks the referrer\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    # even on GET requests if the content type is JSON.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    class JsonCsrf &amp;lt; Base\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      alias react deny\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        request               = Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;18\&quot; class=\&quot;context\&quot; id=\&quot;35\&quot;\n                  onclick=\&quot;toggle(35);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-35\&quot;&gt;&lt;code&gt;        status, headers, body = app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;19\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-35\&quot; onclick=\&quot;toggle(35);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if has_vector? request, headers\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          warn env, &amp;quot;attack prevented by \#{self.class}&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          react(env) or [status, headers, body]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          [status, headers, body]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;42\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-36\&quot;\n                  onclick=\&quot;toggle(36);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unless accepts? env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          instrument env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result = react env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;49\&quot; class=\&quot;context\&quot; id=\&quot;36\&quot;\n                  onclick=\&quot;toggle(36);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-36\&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;50\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-36\&quot; onclick=\&quot;toggle(36);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def react(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;42\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-37\&quot;\n                  onclick=\&quot;toggle(37);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        unless accepts? env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          instrument env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result = react env\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;49\&quot; class=\&quot;context\&quot; id=\&quot;37\&quot;\n                  onclick=\&quot;toggle(37);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-37\&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;50\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-37\&quot; onclick=\&quot;toggle(37);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def react(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;frame_options.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;24\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-38\&quot;\n                  onclick=\&quot;toggle(38);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          frame_options = options[:frame_options]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          frame_options = options[:frame_options].to_s.upcase unless frame_options.respond_to? :to_str\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          frame_options.to_str\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;31\&quot; class=\&quot;context\&quot; id=\&quot;38\&quot;\n                  onclick=\&quot;toggle(38);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-38\&quot;&gt;&lt;code&gt;        status, headers, body        = @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;32\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-38\&quot; onclick=\&quot;toggle(38);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-Frame-Options&amp;#x27;] ||= frame_options if html? headers\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        [status, headers, body]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;session&amp;#x2F;abstract&amp;#x2F;id.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;context&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;218\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-39\&quot;\n                  onclick=\&quot;toggle(39);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          context(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        def context(env, app=@app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          prepare_session(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;225\&quot; class=\&quot;context\&quot; id=\&quot;39\&quot;\n                  onclick=\&quot;toggle(39);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-39\&quot;&gt;&lt;code&gt;          status, headers, body = app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;226\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-39\&quot; onclick=\&quot;toggle(39);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          commit_session(env, status, headers, body)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        def initialize_sid\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          @sidbits = @default_options[:sidbits]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;session&amp;#x2F;abstract&amp;#x2F;id.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;213\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-40\&quot;\n                  onclick=\&quot;toggle(40);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @default_options = self.class::DEFAULT_OPTIONS.merge(options)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @key = @default_options.delete(:key)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @cookie_only = @default_options.delete(:cookie_only)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          initialize_sid\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;220\&quot; class=\&quot;context\&quot; id=\&quot;40\&quot;\n                  onclick=\&quot;toggle(40);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-40\&quot;&gt;&lt;code&gt;          context(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;221\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-40\&quot; onclick=\&quot;toggle(40);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        def context(env, app=@app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          prepare_session(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          status, headers, body = app.call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          commit_session(env, status, headers, body)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;nulllogger.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;2\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-41\&quot;\n                  onclick=\&quot;toggle(41);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  class NullLogger\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def initialize(app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @app = app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      env[&amp;#x27;rack.logger&amp;#x27;] = self\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;9\&quot; class=\&quot;context\&quot; id=\&quot;41\&quot;\n                  onclick=\&quot;toggle(41);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-41\&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;10\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-41\&quot; onclick=\&quot;toggle(41);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def info(progname = nil, &amp;amp;block); end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def debug(progname = nil, &amp;amp;block); end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def warn(progname = nil, &amp;amp;block); end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def error(progname = nil, &amp;amp;block); end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def fatal(progname = nil, &amp;amp;block); end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;head.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;6\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-42\&quot;\n                  onclick=\&quot;toggle(42);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # Rack::Head returns an empty body for all HEAD requests. It leaves\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # all other requests unchanged.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def initialize(app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    @app = app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;13\&quot; class=\&quot;context\&quot; id=\&quot;42\&quot;\n                  onclick=\&quot;toggle(42);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-42\&quot;&gt;&lt;code&gt;    status, headers, body = @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;14\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-42\&quot; onclick=\&quot;toggle(42);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    if env[REQUEST_METHOD] == HEAD\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      [\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        status, headers, Rack::BodyProxy.new([]) do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          body.close if body.respond_to? :close\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;show_exceptions.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;14\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-43\&quot;\n                  onclick=\&quot;toggle(43);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def initialize(app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @app      = app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @template = ERB.new(TEMPLATE)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;21\&quot; class=\&quot;context\&quot; id=\&quot;43\&quot;\n                  onclick=\&quot;toggle(43);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-43\&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;22\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-43\&quot; onclick=\&quot;toggle(43);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    rescue Exception =&amp;gt; e\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      errors, env[&amp;quot;rack.errors&amp;quot;] = env[&amp;quot;rack.errors&amp;quot;], @@eats_errors\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      if prefers_plain_text?(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        content_type = &amp;quot;text&amp;#x2F;plain&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        exception_string = dump_exception(e)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      else\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;174\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-44\&quot;\n                  onclick=\&quot;toggle(44);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # Some Rack handlers (Thin, Rainbows!) implement an extended body object protocol, however,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # some middleware (namely Rack::Lint) will break it by not mirroring the methods in question.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # This middleware will detect an extended body object and will make sure it reaches the\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # handler directly. We do this here, so our middleware and middleware set up by the app will\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  # still be able to run.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  class ExtendedRack &amp;lt; Struct.new(:app)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;181\&quot; class=\&quot;context\&quot; id=\&quot;44\&quot;\n                  onclick=\&quot;toggle(44);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-44\&quot;&gt;&lt;code&gt;      result, callback = app.call(env), env[&amp;#x27;async.callback&amp;#x27;]&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;182\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-44\&quot; onclick=\&quot;toggle(44);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      return result unless callback and async?(*result)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      after_response { callback.call result }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      setup_close(env, *result)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      throw :async\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;2014\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-45\&quot;\n                  onclick=\&quot;toggle(45);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def helpers\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @instance\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;2021\&quot; class=\&quot;context\&quot; id=\&quot;45\&quot;\n                  onclick=\&quot;toggle(45);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-45\&quot;&gt;&lt;code&gt;      @stack.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;2022\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-45\&quot; onclick=\&quot;toggle(45);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def inspect\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      &amp;quot;#&amp;lt;\#{@instance.class} app_file=\#{settings.app_file.inspect}&amp;gt;&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1479\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-46\&quot;\n                  onclick=\&quot;toggle(46);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        setup_default_middleware builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        setup_middleware builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        builder.run app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1486\&quot; class=\&quot;context\&quot; id=\&quot;46\&quot;\n                  onclick=\&quot;toggle(46);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-46\&quot;&gt;&lt;code&gt;        synchronize { prototype.call(env) }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1487\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-46\&quot; onclick=\&quot;toggle(46);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Like Kernel#caller but excluding certain magic entries and without\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # line &amp;#x2F; method information; the resulting array contains filenames only.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def caller_files\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        cleaned_caller(1).flatten\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;synchronize&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1788\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-47\&quot;\n                  onclick=\&quot;toggle(47);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @@mutex = Mutex.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def synchronize(&amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        if lock?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @@mutex.synchronize(&amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        else\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1795\&quot; class=\&quot;context\&quot; id=\&quot;47\&quot;\n                  onclick=\&quot;toggle(47);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-47\&quot;&gt;&lt;code&gt;          yield&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1796\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-47\&quot; onclick=\&quot;toggle(47);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # used for deprecation warnings\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def warn(message)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        super message + &amp;quot;\\n\\tfrom \#{cleaned_caller.first.join(&amp;#x27;:&amp;#x27;)}&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info framework\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code framework\&quot;&gt;\n              \n              &lt;ol start=\&quot;1479\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-48\&quot;\n                  onclick=\&quot;toggle(48);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        setup_default_middleware builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        setup_middleware builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        builder.run app\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        builder\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def call(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1486\&quot; class=\&quot;context\&quot; id=\&quot;48\&quot;\n                  onclick=\&quot;toggle(48);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-48\&quot;&gt;&lt;code&gt;        synchronize { prototype.call(env) }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1487\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-48\&quot; onclick=\&quot;toggle(48);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Like Kernel#caller but excluding certain magic entries and without\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # line &amp;#x2F; method information; the resulting array contains filenames only.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def caller_files\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        cleaned_caller(1).flatten\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;methodoverride.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;15\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-49\&quot;\n                  onclick=\&quot;toggle(49);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        method = method_override(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        if HTTP_METHODS.include?(method)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          env[&amp;quot;rack.methodoverride.original_method&amp;quot;] = env[REQUEST_METHOD]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          env[REQUEST_METHOD] = method\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;22\&quot; class=\&quot;context\&quot; id=\&quot;49\&quot;\n                  onclick=\&quot;toggle(49);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-49\&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;23\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-49\&quot; onclick=\&quot;toggle(49);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def method_override(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      req = Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      method = method_override_param(req) ||\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        env[HTTP_METHOD_OVERRIDE_HEADER]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      method.to_s.upcase\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;mock_session.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;request&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;23\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-50\&quot;\n                  onclick=\&quot;toggle(50);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def set_cookie(cookie, uri = nil)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      cookie_jar.merge(cookie, uri)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def request(uri, env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      env[&amp;quot;HTTP_COOKIE&amp;quot;] ||= cookie_jar.for(uri)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      @last_request = Rack::Request.new(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;30\&quot; class=\&quot;context\&quot; id=\&quot;50\&quot;\n                  onclick=\&quot;toggle(50);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-50\&quot;&gt;&lt;code&gt;      status, headers, body = @app.call(@last_request.env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;31\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-50\&quot; onclick=\&quot;toggle(50);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @last_response = MockResponse.new(status, headers, body, env[&amp;quot;rack.errors&amp;quot;].flush)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      body.close if body.respond_to?(:close)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      cookie_jar.merge(last_response.headers[&amp;quot;Set-Cookie&amp;quot;], uri)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      @after_request.each { |hook| hook.call }\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;test.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;process_request&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;237\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-51\&quot;\n                  onclick=\&quot;toggle(51);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        Rack::MockRequest.env_for(uri.to_s, env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def process_request(uri, env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        uri = URI.parse(uri)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        uri.host ||= @default_host\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;244\&quot; class=\&quot;context\&quot; id=\&quot;51\&quot;\n                  onclick=\&quot;toggle(51);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-51\&quot;&gt;&lt;code&gt;        @rack_mock_session.request(uri, env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;245\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-51\&quot; onclick=\&quot;toggle(51);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        if retry_with_digest_auth?(env)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          auth_env = env.merge({\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            &amp;quot;HTTP_AUTHORIZATION&amp;quot;          =&amp;gt; digest_auth_header,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            &amp;quot;rack-test.digest_auth_retry&amp;quot; =&amp;gt; true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          })\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          auth_env.delete(&amp;#x27;rack.request&amp;#x27;)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;test.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;get&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;51\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-52\&quot;\n                  onclick=\&quot;toggle(52);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # the app&amp;#x27;s response in #last_response. Yield #last_response to a block\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # if given.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # Example:\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   get &amp;quot;&amp;#x2F;&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def get(uri, params = {}, env = {}, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        env = env_for(uri, env.merge(:method =&amp;gt; &amp;quot;GET&amp;quot;, :params =&amp;gt; params))\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;58\&quot; class=\&quot;context\&quot; id=\&quot;52\&quot;\n                  onclick=\&quot;toggle(52);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-52\&quot;&gt;&lt;code&gt;        process_request(uri, env, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;59\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-52\&quot; onclick=\&quot;toggle(52);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Issue a POST request for the given URI. See #get\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Example:\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      #   post &amp;quot;&amp;#x2F;signup&amp;quot;, &amp;quot;name&amp;quot; =&amp;gt; &amp;quot;Bryan&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def post(uri, params = {}, env = {}, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info app\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;rubies&amp;#x2F;ruby-2.2.3&amp;#x2F;lib&amp;#x2F;ruby&amp;#x2F;2.2.0&amp;#x2F;forwardable.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;get&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code app\&quot;&gt;\n              \n              &lt;ol start=\&quot;176\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-53\&quot;\n                  onclick=\&quot;toggle(53);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  #   q.queue    #=&amp;gt; [42]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  #   q.push 23  #=&amp;gt; NoMethodError\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def def_instance_delegator(accessor, method, ali = method)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    line_no = __LINE__; str = %{\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def \#{ali}(*args, &amp;amp;block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;183\&quot; class=\&quot;context\&quot; id=\&quot;53\&quot;\n                  onclick=\&quot;toggle(53);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-53\&quot;&gt;&lt;code&gt;          \#{accessor}.__send__(:\#{method}, *args, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;184\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-53\&quot; onclick=\&quot;toggle(53);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Exception\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          $@.delete_if{|s| Forwardable::FILE_REGEXP =~ s} unless Forwardable::debug\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          ::Kernel::raise\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # If it&amp;#x27;s not a class or module, it&amp;#x27;s an instance\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;process&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;53\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-54\&quot;\n                  onclick=\&quot;toggle(54);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    new_uri.port ||= @current_port unless new_uri.default_port == @current_port\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    @current_scheme = new_uri.scheme\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    @current_host = new_uri.host\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    @current_port = new_uri.port\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    reset_cache!\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;60\&quot; class=\&quot;context\&quot; id=\&quot;54\&quot;\n                  onclick=\&quot;toggle(54);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-54\&quot;&gt;&lt;code&gt;    send(method, new_uri.to_s, attributes, env.merge(options[:headers] || {}))&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;61\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-54\&quot; onclick=\&quot;toggle(54);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  def current_url\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    last_request.url\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  rescue Rack::Test::Error\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    &amp;quot;&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;process_and_follow_redirects&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;28\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-55\&quot;\n                  onclick=\&quot;toggle(55);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def follow(method, path, attributes = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    return if path.gsub(&amp;#x2F;^\#{Regexp.escape(request_path)}&amp;#x2F;, &amp;#x27;&amp;#x27;).start_with?(&amp;#x27;#&amp;#x27;) || path.downcase.start_with?(&amp;#x27;javascript:&amp;#x27;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    process_and_follow_redirects(method, path, attributes, {&amp;#x27;HTTP_REFERER&amp;#x27; =&amp;gt; current_url})\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def process_and_follow_redirects(method, path, attributes = {}, env = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;35\&quot; class=\&quot;context\&quot; id=\&quot;55\&quot;\n                  onclick=\&quot;toggle(55);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-55\&quot;&gt;&lt;code&gt;    process(method, path, attributes, env)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;36\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-55\&quot; onclick=\&quot;toggle(55);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    if driver.follow_redirects?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      driver.redirect_limit.times do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        process(:get, last_response[&amp;quot;Location&amp;quot;], {}, env) if last_response.redirect?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      raise Capybara::InfiniteRedirectError, &amp;quot;redirected more than \#{driver.redirect_limit} times, check for infinite redirects.&amp;quot; if last_response.redirect?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;14\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-56\&quot;\n                  onclick=\&quot;toggle(56);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def options\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    driver.options\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def visit(path, attributes = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    reset_host!\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;21\&quot; class=\&quot;context\&quot; id=\&quot;56\&quot;\n                  onclick=\&quot;toggle(56);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-56\&quot;&gt;&lt;code&gt;    process_and_follow_redirects(:get, path, attributes)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;22\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-56\&quot; onclick=\&quot;toggle(56);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  def submit(method, path, attributes)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    path = request_path if not path or path.empty?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    process_and_follow_redirects(method, path, attributes, {&amp;#x27;HTTP_REFERER&amp;#x27; =&amp;gt; current_url})\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;driver.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;35\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-57\&quot;\n                  onclick=\&quot;toggle(57);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def request\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    browser.last_request\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  def visit(path, attributes = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;42\&quot; class=\&quot;context\&quot; id=\&quot;57\&quot;\n                  onclick=\&quot;toggle(57);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-57\&quot;&gt;&lt;code&gt;    browser.visit(path, attributes)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;43\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-57\&quot; onclick=\&quot;toggle(57);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  def submit(method, path, attributes)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    browser.submit(method, path, attributes)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  def follow(method, path, attributes = {})\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;session.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;225\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-58\&quot;\n                  onclick=\&quot;toggle(58);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        if Capybara.always_include_port\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          uri = URI.parse(url)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          uri.port = @server.port if uri.port == uri.default_port\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          url = uri.to_s\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;232\&quot; class=\&quot;context\&quot; id=\&quot;58\&quot;\n                  onclick=\&quot;toggle(58);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-58\&quot;&gt;&lt;code&gt;      driver.visit(url)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;233\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-58\&quot; onclick=\&quot;toggle(58);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    ##\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # Move back a single entry in the browser&amp;#x27;s history.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def go_back\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;dsl.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (2 levels) in &amp;lt;module:DSL&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;44\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-59\&quot;\n                  onclick=\&quot;toggle(59);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def page\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      Capybara.current_session\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    Session::DSL_METHODS.each do |method|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      define_method method do |*args, &amp;amp;block|\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;51\&quot; class=\&quot;context\&quot; id=\&quot;59\&quot;\n                  onclick=\&quot;toggle(59);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-59\&quot;&gt;&lt;code&gt;        page.send method, *args, &amp;amp;block&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;52\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-59\&quot; onclick=\&quot;toggle(59);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;  extend(Capybara::DSL)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info app\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;Development&amp;#x2F;Learn&amp;#x2F;Sinatra&amp;#x2F;Sinatra Project Mode&amp;#x2F;sinatra-fwitter-group-project-v-000&amp;#x2F;spec&amp;#x2F;controllers&amp;#x2F;application_controller_spec.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (4 levels) in &amp;lt;top (required)&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code app\&quot;&gt;\n              \n              &lt;ol start=\&quot;167\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-60\&quot;\n                  onclick=\&quot;toggle(60);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        tweet2 = Tweet.create(:content =&amp;gt; &amp;quot;look at this tweet&amp;quot;, :user_id =&amp;gt; user2.id)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        visit &amp;#x27;&amp;#x2F;login&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        fill_in(:username, :with =&amp;gt; &amp;quot;becky567&amp;quot;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        fill_in(:password, :with =&amp;gt; &amp;quot;kittens&amp;quot;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        click_button &amp;#x27;submit&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;174\&quot; class=\&quot;context\&quot; id=\&quot;60\&quot;\n                  onclick=\&quot;toggle(60);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-60\&quot;&gt;&lt;code&gt;        visit &amp;quot;&amp;#x2F;tweets&amp;quot;&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;175\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-60\&quot; onclick=\&quot;toggle(60);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        expect(page.body).to include(tweet1.content)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        expect(page.body).to include(tweet2.content)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    context &amp;#x27;logged out&amp;#x27; do\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;instance_exec&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;229\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-61\&quot;\n                  onclick=\&quot;toggle(61);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          if skipped?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;              begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;                run_before_example\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;236\&quot; class=\&quot;context\&quot; id=\&quot;61\&quot;\n                  onclick=\&quot;toggle(61);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-61\&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;237\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-61\&quot; onclick=\&quot;toggle(61);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                if pending?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                  raise Pending::PendingExampleFixedError,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                        &amp;#x27;Expected example to fail since it is pending, but it passed.&amp;#x27;,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                        [location]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;229\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-62\&quot;\n                  onclick=\&quot;toggle(62);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          if skipped?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;              begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;                run_before_example\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;236\&quot; class=\&quot;context\&quot; id=\&quot;62\&quot;\n                  onclick=\&quot;toggle(62);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-62\&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;237\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-62\&quot; onclick=\&quot;toggle(62);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                if pending?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                  raise Pending::PendingExampleFixedError,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                        &amp;#x27;Expected example to fail since it is pending, but it passed.&amp;#x27;,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                        [location]\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in with_around_and_singleton_context_hooks&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;470\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-63\&quot;\n                  onclick=\&quot;toggle(63);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @example_group_instance.setup_mocks_for_rspec\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        hooks.run(:before, :example, self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def with_around_and_singleton_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host = example_group_instance.singleton_class\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_before_context_hooks(example_group_instance)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;477\&quot; class=\&quot;context\&quot; id=\&quot;63\&quot;\n                  onclick=\&quot;toggle(63);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-63\&quot;&gt;&lt;code&gt;        with_around_example_hooks { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;478\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-63\&quot; onclick=\&quot;toggle(63);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_after_context_hooks(example_group_instance)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def run_after_example\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        assign_generated_description if defined?(::RSpec::Matchers)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        hooks.run(:after, :example, self)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in with_around_example_hooks&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;427\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-64\&quot;\n                  onclick=\&quot;toggle(64);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        example_group_instance.singleton_class.hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def with_around_example_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;434\&quot; class=\&quot;context\&quot; id=\&quot;64\&quot;\n                  onclick=\&quot;toggle(64);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-64\&quot;&gt;&lt;code&gt;        hooks.run(:around, :example, self) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;435\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-64\&quot; onclick=\&quot;toggle(64);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; e\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        set_exception(e)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def start(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        reporter.example_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        execution_result.started_at = clock.now\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;471\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-65\&quot;\n                  onclick=\&quot;toggle(65);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          if scope == :context\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            run_owned_hooks_for(position, :context, example_or_group)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            case position\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            when :before then run_example_hooks_for(example_or_group, :before, :reverse_each)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            when :after  then run_example_hooks_for(example_or_group, :after,  :each)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;478\&quot; class=\&quot;context\&quot; id=\&quot;65\&quot;\n                  onclick=\&quot;toggle(65);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-65\&quot;&gt;&lt;code&gt;            when :around then run_around_example_hooks_for(example_or_group) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;479\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-65\&quot; onclick=\&quot;toggle(65);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        SCOPES = [:example, :context]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        SCOPE_ALIASES = { :each =&amp;gt; :example, :all =&amp;gt; :context }\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run_around_example_hooks_for&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;609\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-66\&quot;\n                  onclick=\&quot;toggle(66);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        def run_around_example_hooks_for(example)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          hooks = FlatMap.flat_map(owner_parent_groups) do |group|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            group.hooks.matching_hooks_for(:around, :example, example)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;616\&quot; class=\&quot;context\&quot; id=\&quot;66\&quot;\n                  onclick=\&quot;toggle(66);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-66\&quot;&gt;&lt;code&gt;          return yield if hooks.empty? # exit early to avoid the extra allocation cost of `Example::Procsy`&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;617\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-66\&quot; onclick=\&quot;toggle(66);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          initial_procsy = Example::Procsy.new(example) { yield }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          hooks.inject(initial_procsy) do |procsy, around_hook|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            procsy.wrap { around_hook.execute_with(example, procsy) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end.call\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;471\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-67\&quot;\n                  onclick=\&quot;toggle(67);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          if scope == :context\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            run_owned_hooks_for(position, :context, example_or_group)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          else\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            case position\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            when :before then run_example_hooks_for(example_or_group, :before, :reverse_each)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            when :after  then run_example_hooks_for(example_or_group, :after,  :each)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;478\&quot; class=\&quot;context\&quot; id=\&quot;67\&quot;\n                  onclick=\&quot;toggle(67);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-67\&quot;&gt;&lt;code&gt;            when :around then run_around_example_hooks_for(example_or_group) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;479\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-67\&quot; onclick=\&quot;toggle(67);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        SCOPES = [:example, :context]\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        SCOPE_ALIASES = { :each =&amp;gt; :example, :all =&amp;gt; :context }\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;with_around_example_hooks&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;427\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-68\&quot;\n                  onclick=\&quot;toggle(68);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        example_group_instance.singleton_class.hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def with_around_example_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;434\&quot; class=\&quot;context\&quot; id=\&quot;68\&quot;\n                  onclick=\&quot;toggle(68);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-68\&quot;&gt;&lt;code&gt;        hooks.run(:around, :example, self) { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;435\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-68\&quot; onclick=\&quot;toggle(68);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; e\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        set_exception(e)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def start(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        reporter.example_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        execution_result.started_at = clock.now\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;with_around_and_singleton_context_hooks&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;470\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-69\&quot;\n                  onclick=\&quot;toggle(69);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @example_group_instance.setup_mocks_for_rspec\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        hooks.run(:before, :example, self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def with_around_and_singleton_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host = example_group_instance.singleton_class\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_before_context_hooks(example_group_instance)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;477\&quot; class=\&quot;context\&quot; id=\&quot;69\&quot;\n                  onclick=\&quot;toggle(69);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-69\&quot;&gt;&lt;code&gt;        with_around_example_hooks { yield }&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;478\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-69\&quot; onclick=\&quot;toggle(69);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_after_context_hooks(example_group_instance)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def run_after_example\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        assign_generated_description if defined?(::RSpec::Matchers)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        hooks.run(:after, :example, self)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;226\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-70\&quot;\n                  onclick=\&quot;toggle(70);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        start(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        Pending.mark_pending!(self, pending) if pending?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          if skipped?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;233\&quot; class=\&quot;context\&quot; id=\&quot;70\&quot;\n                  onclick=\&quot;toggle(70);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-70\&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;234\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-70\&quot; onclick=\&quot;toggle(70);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;              begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                run_before_example\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                if pending?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run_examples&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;574\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-71\&quot;\n                  onclick=\&quot;toggle(71);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;581\&quot; class=\&quot;context\&quot; id=\&quot;71\&quot;\n                  onclick=\&quot;toggle(71);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-71\&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;582\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-71\&quot; onclick=\&quot;toggle(71);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          succeeded\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end.all?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;570\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-72\&quot;\n                  onclick=\&quot;toggle(72);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          registry.fetch(:global)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;577\&quot; class=\&quot;context\&quot; id=\&quot;72\&quot;\n                  onclick=\&quot;toggle(72);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-72\&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;578\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-72\&quot; onclick=\&quot;toggle(72);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run_examples&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;570\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-73\&quot;\n                  onclick=\&quot;toggle(73);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          registry.fetch(:global)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;577\&quot; class=\&quot;context\&quot; id=\&quot;73\&quot;\n                  onclick=\&quot;toggle(73);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-73\&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;578\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-73\&quot; onclick=\&quot;toggle(73);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;536\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-74\&quot;\n                  onclick=\&quot;toggle(74);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def self.run(reporter=RSpec::Core::NullReporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;543\&quot; class=\&quot;context\&quot; id=\&quot;74\&quot;\n                  onclick=\&quot;toggle(74);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-74\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;544\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-74\&quot; onclick=\&quot;toggle(74);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-75\&quot;\n                  onclick=\&quot;toggle(75);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;75\&quot;\n                  onclick=\&quot;toggle(75);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-75\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-75\&quot; onclick=\&quot;toggle(75);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-76\&quot;\n                  onclick=\&quot;toggle(76);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;76\&quot;\n                  onclick=\&quot;toggle(76);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-76\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-76\&quot; onclick=\&quot;toggle(76);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-77\&quot;\n                  onclick=\&quot;toggle(77);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;77\&quot;\n                  onclick=\&quot;toggle(77);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-77\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-77\&quot; onclick=\&quot;toggle(77);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-78\&quot;\n                  onclick=\&quot;toggle(78);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;78\&quot;\n                  onclick=\&quot;toggle(78);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-78\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-78\&quot; onclick=\&quot;toggle(78);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-79\&quot;\n                  onclick=\&quot;toggle(79);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;79\&quot;\n                  onclick=\&quot;toggle(79);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-79\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-79\&quot; onclick=\&quot;toggle(79);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;537\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-80\&quot;\n                  onclick=\&quot;toggle(80);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;544\&quot; class=\&quot;context\&quot; id=\&quot;80\&quot;\n                  onclick=\&quot;toggle(80);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-80\&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;545\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-80\&quot; onclick=\&quot;toggle(80);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          true\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (3 levels) in run_specs&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;108\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-81\&quot;\n                  onclick=\&quot;toggle(81);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   failed.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run_specs(example_groups)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;115\&quot; class=\&quot;context\&quot; id=\&quot;81\&quot;\n                  onclick=\&quot;toggle(81);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-81\&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;116\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-81\&quot; onclick=\&quot;toggle(81);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def persist_example_statuses\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;108\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-82\&quot;\n                  onclick=\&quot;toggle(82);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   failed.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run_specs(example_groups)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;115\&quot; class=\&quot;context\&quot; id=\&quot;82\&quot;\n                  onclick=\&quot;toggle(82);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-82\&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;116\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-82\&quot; onclick=\&quot;toggle(82);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def persist_example_statuses\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block (2 levels) in run_specs&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;108\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-83\&quot;\n                  onclick=\&quot;toggle(83);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   failed.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run_specs(example_groups)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;115\&quot; class=\&quot;context\&quot; id=\&quot;83\&quot;\n                  onclick=\&quot;toggle(83);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-83\&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;116\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-83\&quot; onclick=\&quot;toggle(83);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def persist_example_statuses\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;configuration.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;with_suite_hooks&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;1673\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-84\&quot;\n                  onclick=\&quot;toggle(84);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def with_suite_hooks\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        return yield if dry_run?\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        hook_context = SuiteHookContext.new\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          run_hooks_with(@before_suite_hooks, hook_context)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;1680\&quot; class=\&quot;context\&quot; id=\&quot;84\&quot;\n                  onclick=\&quot;toggle(84);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-84\&quot;&gt;&lt;code&gt;          yield&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;1681\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-84\&quot; onclick=\&quot;toggle(84);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          run_hooks_with(@after_suite_hooks, hook_context)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Holds the various registered hooks. Here we use a FilterableItemRepository\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;block in run_specs&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;107\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-85\&quot;\n                  onclick=\&quot;toggle(85);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   failed.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run_specs(example_groups)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;114\&quot; class=\&quot;context\&quot; id=\&quot;85\&quot;\n                  onclick=\&quot;toggle(85);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-85\&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;115\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-85\&quot; onclick=\&quot;toggle(85);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;reporter.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;report&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;70\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-86\&quot;\n                  onclick=\&quot;toggle(86);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #     reporter.report(group.examples.size) do |r|\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #       example_groups.map {|g| g.run(r) }\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #     end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    def report(expected_example_count)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      start(expected_example_count)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      begin\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;77\&quot; class=\&quot;context\&quot; id=\&quot;86\&quot;\n                  onclick=\&quot;toggle(86);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-86\&quot;&gt;&lt;code&gt;        yield self&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;78\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-86\&quot; onclick=\&quot;toggle(86);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      ensure\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        finish\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    # @private\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    def start(expected_example_count, time=RSpec::Core::Time.now)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run_specs&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;106\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-87\&quot;\n                  onclick=\&quot;toggle(87);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # Runs the provided example groups.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #   failed.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run_specs(example_groups)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;113\&quot; class=\&quot;context\&quot; id=\&quot;87\&quot;\n                  onclick=\&quot;toggle(87);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-87\&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;114\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-87\&quot; onclick=\&quot;toggle(87);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;    private\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;82\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-88\&quot;\n                  onclick=\&quot;toggle(88);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # Configures and runs a spec suite.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param err [IO] error stream\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # @param out [IO] output stream\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def run(err, out)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        setup(err, out)\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;89\&quot; class=\&quot;context\&quot; id=\&quot;88\&quot;\n                  onclick=\&quot;toggle(88);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-88\&quot;&gt;&lt;code&gt;        run_specs(@world.ordered_example_groups).tap do&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;90\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-88\&quot; onclick=\&quot;toggle(88);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;          persist_example_statuses\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Wires together the various configuration objects and state holders.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # @param err [IO] error stream\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;66\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-89\&quot;\n                  onclick=\&quot;toggle(89);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            DRbRunner.new(options).run(err, out)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          rescue DRb::DRbConnError\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            err.puts &amp;quot;No DRb server is running. Running in local process instead ...&amp;quot;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;            new(options).run(err, out)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;          end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        else\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;73\&quot; class=\&quot;context\&quot; id=\&quot;89\&quot;\n                  onclick=\&quot;toggle(89);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-89\&quot;&gt;&lt;code&gt;          new(options).run(err, out)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;74\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-89\&quot; onclick=\&quot;toggle(89);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      def initialize(options, configuration=RSpec.configuration, world=RSpec.world)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        @options       = options\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        @configuration = configuration\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        @world         = world\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;34\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-90\&quot;\n                  onclick=\&quot;toggle(90);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # Runs the suite of specs and exits the process with an appropriate exit\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      # code.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;      def self.invoke\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;        disable_autorun!\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;41\&quot; class=\&quot;context\&quot; id=\&quot;90\&quot;\n                  onclick=\&quot;toggle(90);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-90\&quot;&gt;&lt;code&gt;        status = run(ARGV, $stderr, $stdout).to_i&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;42\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-90\&quot; onclick=\&quot;toggle(90);\&quot;&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;        exit(status) if status != 0\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # Run a suite of RSpec examples. Does not exit.\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      #\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # This is used internally by RSpec to run a suite, but is available\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;post-context-line\&quot;&gt;&lt;code&gt;      # for use by any other automation tool.\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;exe&amp;#x2F;rspec&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;&amp;lt;top (required)&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;1\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-91\&quot;\n                  onclick=\&quot;toggle(91);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;#!&amp;#x2F;usr&amp;#x2F;bin&amp;#x2F;env ruby\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;require &amp;#x27;rspec&amp;#x2F;core&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;4\&quot; class=\&quot;context\&quot; id=\&quot;91\&quot;\n                  onclick=\&quot;toggle(91);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-91\&quot;&gt;&lt;code&gt;RSpec::Core::Runner.invoke&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;5\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-91\&quot; onclick=\&quot;toggle(91);\&quot;&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;rspec&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;load&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;16\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-92\&quot;\n                  onclick=\&quot;toggle(92);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  if str =~ &amp;#x2F;\\A_(.*)_\\z&amp;#x2F; and Gem::Version.correct?($1) then\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    version = $1\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    ARGV.shift\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;gem &amp;#x27;rspec-core&amp;#x27;, version\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;23\&quot; class=\&quot;context\&quot; id=\&quot;92\&quot;\n                  onclick=\&quot;toggle(92);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-92\&quot;&gt;&lt;code&gt;load Gem.bin_path(&amp;#x27;rspec-core&amp;#x27;, &amp;#x27;rspec&amp;#x27;, version)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;24\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-92\&quot; onclick=\&quot;toggle(92);\&quot;&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;rspec&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;&amp;lt;main&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;16\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-93\&quot;\n                  onclick=\&quot;toggle(93);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  if str =~ &amp;#x2F;\\A_(.*)_\\z&amp;#x2F; and Gem::Version.correct?($1) then\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    version = $1\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;    ARGV.shift\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;gem &amp;#x27;rspec-core&amp;#x27;, version\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;23\&quot; class=\&quot;context\&quot; id=\&quot;93\&quot;\n                  onclick=\&quot;toggle(93);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-93\&quot;&gt;&lt;code&gt;load Gem.bin_path(&amp;#x27;rspec-core&amp;#x27;, &amp;#x27;rspec&amp;#x27;, version)&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;24\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-93\&quot; onclick=\&quot;toggle(93);\&quot;&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;ruby_executable_hooks&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;eval&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;8\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-94\&quot;\n                  onclick=\&quot;toggle(94);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  require &amp;#x27;executable-hooks&amp;#x2F;hooks&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  Gem::ExecutableHooks.run($0)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;rescue LoadError\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  warn &amp;quot;unable to load executable-hooks&amp;#x2F;hooks&amp;quot; if ENV.key?(&amp;#x27;ExecutableHooks_DEBUG&amp;#x27;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;15\&quot; class=\&quot;context\&quot; id=\&quot;94\&quot;\n                  onclick=\&quot;toggle(94);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-94\&quot;&gt;&lt;code&gt;eval File.read($0), binding, $0&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;16\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-94\&quot; onclick=\&quot;toggle(94);\&quot;&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n          \n\n            &lt;li class=\&quot;frame-info system\&quot;&gt;\n              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;ruby_executable_hooks&lt;/code&gt; in\n                &lt;code&gt;&lt;strong&gt;&amp;lt;main&amp;gt;&lt;/strong&gt;&lt;/code&gt;\n            &lt;/li&gt;\n\n            &lt;li class=\&quot;code system\&quot;&gt;\n              \n              &lt;ol start=\&quot;8\&quot;\n                  class=\&quot;pre-context\&quot; id=\&quot;pre-95\&quot;\n                  onclick=\&quot;toggle(95);\&quot;&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;begin\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  require &amp;#x27;executable-hooks&amp;#x2F;hooks&amp;#x27;\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  Gem::ExecutableHooks.run($0)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;rescue LoadError\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;  warn &amp;quot;unable to load executable-hooks&amp;#x2F;hooks&amp;quot; if ENV.key?(&amp;#x27;ExecutableHooks_DEBUG&amp;#x27;)\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;end\n&lt;/code&gt;&lt;/li&gt;\n                \n                &lt;li class=\&quot;pre-context-line\&quot;&gt;&lt;code&gt;\n&lt;/code&gt;&lt;/li&gt;\n                \n              &lt;/ol&gt;\n              \n\n              &lt;ol start=\&quot;15\&quot; class=\&quot;context\&quot; id=\&quot;95\&quot;\n                  onclick=\&quot;toggle(95);\&quot;&gt;\n                &lt;li class=\&quot;context-line\&quot; id=\&quot;context-95\&quot;&gt;&lt;code&gt;eval File.read($0), binding, $0&lt;/code&gt;&lt;/li&gt;\n              &lt;/ol&gt;\n\n              \n              &lt;ol start=\&quot;16\&quot; class=\&quot;post-context\&quot;\n                  id=\&quot;post-95\&quot; onclick=\&quot;toggle(95);\&quot;&gt;\n                \n              &lt;/ol&gt;\n              \n              &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n            &lt;/li&gt;\n\n          \n\n        \n      \n\n      &lt;/ul&gt;\n    &lt;/div&gt; &lt;!-- /BACKTRACE --&gt;\n\n    &lt;div id=\&quot;get\&quot;&gt;\n      &lt;h3 id=\&quot;get-info\&quot;&gt;GET&lt;/h3&gt;\n      \n        &lt;p class=\&quot;no-data\&quot;&gt;No GET data.&lt;/p&gt;\n      \n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- /GET --&gt;\n\n    &lt;div id=\&quot;post\&quot;&gt;\n      &lt;h3 id=\&quot;post-info\&quot;&gt;POST&lt;/h3&gt;\n      \n        &lt;p class=\&quot;no-data\&quot;&gt;No POST data.&lt;/p&gt;\n      \n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- /POST --&gt;\n\n    &lt;div id=\&quot;cookies\&quot;&gt;\n      &lt;h3 id=\&quot;cookie-info\&quot;&gt;COOKIES&lt;/h3&gt;\n      \n        &lt;table class=\&quot;req\&quot;&gt;\n          &lt;tr&gt;\n            &lt;th&gt;Variable&lt;/th&gt;\n            &lt;th&gt;Value&lt;/th&gt;\n          &lt;/tr&gt;\n          \n            &lt;tr&gt;\n              &lt;td&gt;rack.session&lt;/td&gt;\n              &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;&amp;quot;BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh\\nZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG\\nOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz\\nNzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7\\nAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5\\nBjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2\\nYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7\\nAEZpBg==\\n--311be9cbd6719943ba1ce7306d0452ec49741e32&amp;quot;&lt;/div&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n          \n        &lt;/table&gt;\n      \n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- /COOKIES --&gt;\n\n    &lt;div id=\&quot;rack\&quot;&gt;\n      &lt;h3 id=\&quot;env-info\&quot;&gt;Rack ENV&lt;/h3&gt;\n      &lt;table class=\&quot;req\&quot;&gt;\n        &lt;tr&gt;\n          &lt;th&gt;Variable&lt;/th&gt;\n          &lt;th&gt;Value&lt;/th&gt;\n        &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;CONTENT_LENGTH&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;0&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;HTTPS&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;off&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;HTTP_COOKIE&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;rack.session=BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh%0AZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG%0AOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz%0ANzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2%0AYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7%0AAEZpBg%3D%3D%0A--311be9cbd6719943ba1ce7306d0452ec49741e32&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;HTTP_HOST&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;www.example.com&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;PATH_INFO&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;&amp;#x2F;tweets&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;QUERY_STRING&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;REMOTE_ADDR&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;127.0.0.1&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;REQUEST_METHOD&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;GET&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;SCRIPT_NAME&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;SERVER_NAME&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;www.example.com&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;SERVER_PORT&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;80&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.errors&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;#&amp;lt;Object:0x007fbaf39062c0&amp;gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.input&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;#&amp;lt;StringIO:0x007fbaf4c68890&amp;gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.logger&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;#&amp;lt;Rack::NullLogger:0x007fbaf71b4068 @app=#&amp;lt;Rack::Session::Cookie:0x007fbaf71b4180 @secrets=[&amp;quot;the_trillest&amp;quot;], @coder=#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;, @app=#&amp;lt;Rack::Protection::FrameOptions:0x007fbaf71b4310 @app=#&amp;lt;Rack::Protection::HttpOrigin:0x007fbaf71b43b0 @app=#&amp;lt;Rack::Protection::IPSpoofing:0x007fbaf71b4450 @app=#&amp;lt;Rack::Protection::JsonCsrf:0x007fbaf71b44f0 @app=#&amp;lt;Rack::Protection::PathTraversal:0x007fbaf71b4590 @app=#&amp;lt;Rack::Protection::RemoteToken:0x007fbaf71b4680 @app=#&amp;lt;Rack::Protection::SessionHijacking:0x007fbaf71b4770 @app=#&amp;lt;Rack::Protection::XSSHeader:0x007fbaf71b4860 @app=#&amp;lt;ApplicationController:0x007fbaf30656c0 @default_layout=:layout, @preferred_extension=nil, @app=nil, @template_cache=#&amp;lt;Tilt::Cache:0x007fbaf3065698 @cache={[:erb, :&amp;quot;tweets&amp;#x2F;tweets&amp;quot;, {:outvar=&amp;gt;&amp;quot;@_out_buf&amp;quot;, :default_encoding=&amp;gt;&amp;quot;utf-8&amp;quot;}, &amp;quot;app&amp;#x2F;views&amp;quot;]=&amp;gt;#&amp;lt;Tilt::ERBTemplate:0x007fbaf4c60898 @options={:outvar=&amp;gt;&amp;quot;@_out_buf&amp;quot;, :trim=&amp;gt;&amp;quot;&amp;lt;&amp;gt;&amp;quot;}, @line=1, @file=&amp;quot;app&amp;#x2F;views&amp;#x2F;tweets&amp;#x2F;tweets.erb&amp;quot;, @compiled_method={[]=&amp;gt;#&amp;lt;UnboundMethod: BasicObject#__tilt_70220459139580&amp;gt;}, @default_encoding=&amp;quot;utf-8&amp;quot;, @reader=#&amp;lt;Proc:0x007fbaf4c60758@&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb:76 (lambda)&amp;gt;, @data=&amp;quot;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;\\n&amp;lt;% @user_tweets.each do |tweet| %&amp;gt;\\n  &amp;lt;p&amp;gt;&amp;lt;%= tweet.user.username %&amp;gt; - &amp;lt;%= tweet.content %&amp;gt;&amp;lt;&amp;#x2F;p&amp;gt;\\n&amp;lt;% end %&amp;gt;&amp;quot;, @outvar=&amp;quot;@_out_buf&amp;quot;, @engine=#&amp;lt;ERB:0x007fbaf4c605f0 @safe_level=nil, @src=&amp;quot;#coding:UTF-8\\n@_out_buf = &amp;#x27;&amp;#x27;; @_out_buf.concat \\&amp;quot;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;\\\\n\\&amp;quot;\\n;  @user_tweets.each do |tweet| \\n@_out_buf.concat \\&amp;quot;  &amp;lt;p&amp;gt;\\&amp;quot;; @_out_buf.concat(( tweet.user.username ).to_s); @_out_buf.concat \\&amp;quot; - \\&amp;quot;; @_out_buf.concat(( tweet.content ).to_s); @_out_buf.concat \\&amp;quot;&amp;lt;&amp;#x2F;p&amp;gt;\\\\n\\&amp;quot;\\n;  end ; @_out_buf.force_encoding(__ENCODING__)&amp;quot;, @encoding=#&amp;lt;Encoding:UTF-8&amp;gt;, @filename=nil, @lineno=0&amp;gt;&amp;gt;}&amp;gt;&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :xss_mode=&amp;gt;:block, :nosniff=&amp;gt;true, :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :tracking_key=&amp;gt;:tracking, :encrypt_tracking=&amp;gt;true, :track=&amp;gt;[&amp;quot;HTTP_USER_AGENT&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :authenticity_param=&amp;gt;&amp;quot;authenticity_token&amp;quot;, :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :frame_options=&amp;gt;:sameorigin, :except=&amp;gt;[]}, @frame_options=&amp;quot;SAMEORIGIN&amp;quot;&amp;gt;, @default_options={:path=&amp;gt;&amp;quot;&amp;#x2F;&amp;quot;, :domain=&amp;gt;nil, :expire_after=&amp;gt;nil, :secure=&amp;gt;false, :httponly=&amp;gt;true, :defer=&amp;gt;false, :renew=&amp;gt;false, :sidbits=&amp;gt;128, :secure_random=&amp;gt;SecureRandom, :secret=&amp;gt;&amp;quot;the_trillest&amp;quot;, :coder=&amp;gt;#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;}, @key=&amp;quot;rack.session&amp;quot;, @cookie_only=true, @sidbits=128, @sid_secure=SecureRandom, @sid_length=32&amp;gt;&amp;gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.multiprocess&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.multithread&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.request.cookie_hash&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;{&amp;quot;rack.session&amp;quot;=&amp;gt;&amp;quot;BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh\\nZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG\\nOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz\\nNzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7\\nAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5\\nBjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2\\nYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7\\nAEZpBg==\\n--311be9cbd6719943ba1ce7306d0452ec49741e32&amp;quot;}&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.request.cookie_string&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;rack.session=BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh%0AZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG%0AOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz%0ANzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2%0AYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7%0AAEZpBg%3D%3D%0A--311be9cbd6719943ba1ce7306d0452ec49741e32&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.request.query_hash&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;{}&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.request.query_string&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.run_once&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;false&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.session&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;{&amp;quot;session_id&amp;quot;=&amp;gt;&amp;quot;eb0effe02d4008b8dbdafcf13144303de19b80f7dc67b36ea4ef8ce2d6879855&amp;quot;, &amp;quot;csrf&amp;quot;=&amp;gt;&amp;quot;242069739985100a7c3e92fe1b5374e5&amp;quot;, &amp;quot;tracking&amp;quot;=&amp;gt;{&amp;quot;HTTP_USER_AGENT&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;}, &amp;quot;user_id&amp;quot;=&amp;gt;1}&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.session.options&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;{:path=&amp;gt;&amp;quot;&amp;#x2F;&amp;quot;, :domain=&amp;gt;nil, :expire_after=&amp;gt;nil, :secure=&amp;gt;false, :httponly=&amp;gt;true, :defer=&amp;gt;false, :renew=&amp;gt;false, :sidbits=&amp;gt;128, :secure_random=&amp;gt;SecureRandom, :secret=&amp;gt;&amp;quot;the_trillest&amp;quot;, :coder=&amp;gt;#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;}&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.session.unpacked_cookie_data&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;{&amp;quot;session_id&amp;quot;=&amp;gt;&amp;quot;eb0effe02d4008b8dbdafcf13144303de19b80f7dc67b36ea4ef8ce2d6879855&amp;quot;, &amp;quot;csrf&amp;quot;=&amp;gt;&amp;quot;242069739985100a7c3e92fe1b5374e5&amp;quot;, &amp;quot;tracking&amp;quot;=&amp;gt;{&amp;quot;HTTP_USER_AGENT&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;}, &amp;quot;user_id&amp;quot;=&amp;gt;1}&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.test&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.url_scheme&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;http&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;rack.version&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;[1, 3]&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;sinatra.accept&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;[#&amp;lt;Sinatra::Request::AcceptEntry:0x007fbaf4c51168 @entry=&amp;quot;*&amp;#x2F;*&amp;quot;, @type=&amp;quot;*&amp;#x2F;*&amp;quot;, @params={}, @q=1.0&amp;gt;]&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;sinatra.error&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;#&amp;lt;NoMethodError: undefined method `each&amp;#x27; for nil:NilClass&amp;gt;&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n         &lt;tr&gt;\n           &lt;td&gt;sinatra.route&lt;/td&gt;\n           &lt;td class=\&quot;code\&quot;&gt;&lt;div&gt;GET &amp;#x2F;tweets&lt;/div&gt;&lt;/td&gt;\n         &lt;/tr&gt;\n         \n      &lt;/table&gt;\n      &lt;div class=\&quot;clear\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt; &lt;!-- /RACK ENV --&gt;\n\n    &lt;p id=\&quot;explanation\&quot;&gt;You&#39;re seeing this error because you have\nenabled the &lt;code&gt;show_exceptions&lt;/code&gt; setting.&lt;/p&gt;\n  &lt;/div&gt; &lt;!-- /WRAP --&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n&quot; to include &quot;tweeting!&quot;
Diff:[0m
[0m[34m@@ -1,2 +1,7425 @@
[0m[31m-tweeting!
[0m[32m+&lt;!DOCTYPE html&gt;
[0m[32m+&lt;html&gt;
[0m[32m+&lt;head&gt;
[0m[32m+  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
[0m[32m+  &lt;title&gt;NoMethodError at &amp;#x2F;tweets&lt;/title&gt;
[0m[32m+
[0m[32m+  &lt;script type=&quot;text/javascript&quot;&gt;
[0m[32m+  //&lt;!--
[0m[32m+  function toggle(id) {
[0m[32m+    var pre  = document.getElementById(&quot;pre-&quot; + id);
[0m[32m+    var post = document.getElementById(&quot;post-&quot; + id);
[0m[32m+    var context = document.getElementById(&quot;context-&quot; + id);
[0m[32m+
[0m[32m+    if (pre.style.display == &#39;block&#39;) {
[0m[32m+      pre.style.display = &#39;none&#39;;
[0m[32m+      post.style.display = &#39;none&#39;;
[0m[32m+      context.style.background = &quot;none&quot;;
[0m[32m+    } else {
[0m[32m+      pre.style.display = &#39;block&#39;;
[0m[32m+      post.style.display = &#39;block&#39;;
[0m[32m+      context.style.background = &quot;#fffed9&quot;;
[0m[32m+    }
[0m[32m+  }
[0m[32m+
[0m[32m+  function toggleBacktrace(){
[0m[32m+    var bt = document.getElementById(&quot;backtrace&quot;);
[0m[32m+    var toggler = document.getElementById(&quot;expando&quot;);
[0m[32m+
[0m[32m+    if (bt.className == &#39;condensed&#39;) {
[0m[32m+      bt.className = &#39;expanded&#39;;
[0m[32m+      toggler.innerHTML = &quot;(condense)&quot;;
[0m[32m+    } else {
[0m[32m+      bt.className = &#39;condensed&#39;;
[0m[32m+      toggler.innerHTML = &quot;(expand)&quot;;
[0m[32m+    }
[0m[32m+  }
[0m[32m+  //--&gt;
[0m[32m+  &lt;/script&gt;
[0m[32m+
[0m[32m+&lt;style type=&quot;text/css&quot; media=&quot;screen&quot;&gt;
[0m[32m+  *                   {margin: 0; padding: 0; border: 0; outline: 0;}
[0m[32m+  div.clear           {clear: both;}
[0m[32m+  body                {background: #EEEEEE; margin: 0; padding: 0;
[0m[32m+                       font-family: &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;,
[0m[32m+                       &#39;Garuda&#39;;}
[0m[32m+  code                {font-family: &#39;Lucida Console&#39;, monospace;
[0m[32m+                       font-size: 12px;}
[0m[32m+  li                  {height: 18px;}
[0m[32m+  ul                  {list-style: none; margin: 0; padding: 0;}
[0m[32m+  ol:hover            {cursor: pointer;}
[0m[32m+  ol li               {white-space: pre;}
[0m[32m+  #explanation        {font-size: 12px; color: #666666;
[0m[32m+                       margin: 20px 0 0 100px;}
[0m[32m+/* WRAP */
[0m[32m+  #wrap               {width: 1000px; background: #FFFFFF; margin: 0 auto;
[0m[32m+                       padding: 30px 50px 20px 50px;
[0m[32m+                       border-left: 1px solid #DDDDDD;
[0m[32m+                       border-right: 1px solid #DDDDDD;}
[0m[32m+/* HEADER */
[0m[32m+  #header             {margin: 0 auto 25px auto;}
[0m[32m+  #header img         {float: left;}
[0m[32m+  #header #summary    {float: left; margin: 12px 0 0 20px; width:660px;
[0m[32m+                       font-family: &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;;}
[0m[32m+  h1                  {margin: 0; font-size: 36px; color: #981919;}
[0m[32m+  h2                  {margin: 0; font-size: 22px; color: #333333;}
[0m[32m+  #header ul          {margin: 0; font-size: 12px; color: #666666;}
[0m[32m+  #header ul li strong{color: #444444;}
[0m[32m+  #header ul li       {display: inline; padding: 0 10px;}
[0m[32m+  #header ul li.first {padding-left: 0;}
[0m[32m+  #header ul li.last  {border: 0; padding-right: 0;}
[0m[32m+/* BODY */
[0m[32m+  #backtrace,
[0m[32m+  #get,
[0m[32m+  #post,
[0m[32m+  #cookies,
[0m[32m+  #rack               {width: 980px; margin: 0 auto 10px auto;}
[0m[32m+  p#nav               {float: right; font-size: 14px;}
[0m[32m+/* BACKTRACE */
[0m[32m+  a#expando           {float: left; padding-left: 5px; color: #666666;
[0m[32m+                      font-size: 14px; text-decoration: none; cursor: pointer;}
[0m[32m+  a#expando:hover     {text-decoration: underline;}
[0m[32m+  h3                  {float: left; width: 100px; margin-bottom: 10px;
[0m[32m+                       color: #981919; font-size: 14px; font-weight: bold;}
[0m[32m+  #nav a              {color: #666666; text-decoration: none; padding: 0 5px;}
[0m[32m+  #backtrace li.frame-info {background: #f7f7f7; padding-left: 10px;
[0m[32m+                           font-size: 12px; color: #333333;}
[0m[32m+  #backtrace ul       {list-style-position: outside; border: 1px solid #E9E9E9;
[0m[32m+                       border-bottom: 0;}
[0m[32m+  #backtrace ol       {width: 920px; margin-left: 50px;
[0m[32m+                       font: 10px &#39;Lucida Console&#39;, monospace; color: #666666;}
[0m[32m+  #backtrace ol li    {border: 0; border-left: 1px solid #E9E9E9;
[0m[32m+                       padding: 2px 0;}
[0m[32m+  #backtrace ol code  {font-size: 10px; color: #555555; padding-left: 5px;}
[0m[32m+  #backtrace-ul li    {border-bottom: 1px solid #E9E9E9; height: auto;
[0m[32m+                       padding: 3px 0;}
[0m[32m+  #backtrace-ul .code {padding: 6px 0 4px 0;}
[0m[32m+  #backtrace.condensed .system,
[0m[32m+  #backtrace.condensed .framework {display:none;}
[0m[32m+/* REQUEST DATA */
[0m[32m+  p.no-data           {padding-top: 2px; font-size: 12px; color: #666666;}
[0m[32m+  table.req           {width: 980px; text-align: left; font-size: 12px;
[0m[32m+                       color: #666666; padding: 0; border-spacing: 0;
[0m[32m+                       border: 1px solid #EEEEEE; border-bottom: 0;
[0m[32m+                       border-left: 0;
[0m[32m+                       clear:both}
[0m[32m+  table.req tr th     {padding: 2px 10px; font-weight: bold;
[0m[32m+                       background: #F7F7F7; border-bottom: 1px solid #EEEEEE;
[0m[32m+                       border-left: 1px solid #EEEEEE;}
[0m[32m+  table.req tr td     {padding: 2px 20px 2px 10px;
[0m[32m+                       border-bottom: 1px solid #EEEEEE;
[0m[32m+                       border-left: 1px solid #EEEEEE;}
[0m[32m+/* HIDE PRE/POST CODE AT START */
[0m[32m+  .pre-context,
[0m[32m+  .post-context       {display: none;}
[0m[32m+
[0m[32m+  table td.code       {width:750px}
[0m[32m+  table td.code div   {width:750px;overflow:hidden}
[0m[32m+&lt;/style&gt;
[0m[32m+&lt;/head&gt;
[0m[32m+&lt;body&gt;
[0m[32m+  &lt;div id=&quot;wrap&quot;&gt;
[0m[32m+    &lt;div id=&quot;header&quot;&gt;
[0m[32m+      &lt;img src=&quot;/__sinatra__/500.png&quot; alt=&quot;application error&quot; height=&quot;161&quot; width=&quot;313&quot; /&gt;
[0m[32m+      &lt;div id=&quot;summary&quot;&gt;
[0m[32m+        &lt;h1&gt;&lt;strong&gt;NoMethodError&lt;/strong&gt; at &lt;strong&gt;&amp;#x2F;tweets
[0m[32m+          &lt;/strong&gt;&lt;/h1&gt;
[0m[32m+        &lt;h2&gt;undefined method `each&amp;#x27; for nil:NilClass&lt;/h2&gt;
[0m[32m+        &lt;ul&gt;
[0m[32m+          &lt;li class=&quot;first&quot;&gt;&lt;strong&gt;file:&lt;/strong&gt; &lt;code&gt;
[0m[32m+            tweets.erb&lt;/code&gt;&lt;/li&gt;
[0m[32m+          &lt;li&gt;&lt;strong&gt;location:&lt;/strong&gt; &lt;code&gt;block in singleton class
[0m[32m+            &lt;/code&gt;&lt;/li&gt;
[0m[32m+          &lt;li class=&quot;last&quot;&gt;&lt;strong&gt;line:
[0m[32m+            &lt;/strong&gt; 2&lt;/li&gt;
[0m[32m+        &lt;/ul&gt;
[0m[32m+      &lt;/div&gt;
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+    &lt;/div&gt;
[0m[32m+
[0m[32m+    &lt;div id=&quot;backtrace&quot; class=&#39;condensed&#39;&gt;
[0m[32m+      &lt;h3&gt;BACKTRACE&lt;/h3&gt;
[0m[32m+      &lt;p&gt;&lt;a href=&quot;#&quot; id=&quot;expando&quot;
[0m[32m+            onclick=&quot;toggleBacktrace(); return false&quot;&gt;(expand)&lt;/a&gt;&lt;/p&gt;
[0m[32m+      &lt;p id=&quot;nav&quot;&gt;&lt;strong&gt;JUMP TO:&lt;/strong&gt;
[0m[32m+         &lt;a href=&quot;#get-info&quot;&gt;GET&lt;/a&gt;
[0m[32m+         &lt;a href=&quot;#post-info&quot;&gt;POST&lt;/a&gt;
[0m[32m+         &lt;a href=&quot;#cookie-info&quot;&gt;COOKIES&lt;/a&gt;
[0m[32m+         &lt;a href=&quot;#env-info&quot;&gt;ENV&lt;/a&gt;
[0m[32m+      &lt;/p&gt;
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+
[0m[32m+      &lt;ul id=&quot;backtrace-ul&quot;&gt;
[0m[32m+
[0m[32m+      
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info app&quot;&gt;
[0m[32m+              &lt;code&gt;app&amp;#x2F;views&amp;#x2F;tweets&amp;#x2F;tweets.erb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in singleton class&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code app&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-1&quot;
[0m[32m+                  onclick=&quot;toggle(1);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;2&quot; class=&quot;context&quot; id=&quot;1&quot;
[0m[32m+                  onclick=&quot;toggle(1);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-1&quot;&gt;&lt;code&gt;&amp;lt;% @user_tweets.each do |tweet| %&amp;gt;&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;3&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-1&quot; onclick=&quot;toggle(1);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  &amp;lt;p&amp;gt;&amp;lt;%= tweet.user.username %&amp;gt; - &amp;lt;%= tweet.content %&amp;gt;&amp;lt;&amp;#x2F;p&amp;gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;&amp;lt;% end %&amp;gt;&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;148&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-2&quot;
[0m[32m+                  onclick=&quot;toggle(2);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # evaluation is guaranteed to be performed in the scope object with the
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # locals specified and with support for yielding to the block.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # This method is only used by source generating templates. Subclasses that
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # override render() may not support all features.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def evaluate(scope, locals, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      method = compiled_method(locals.keys)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;155&quot; class=&quot;context&quot; id=&quot;2&quot;
[0m[32m+                  onclick=&quot;toggle(2);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-2&quot;&gt;&lt;code&gt;      method.bind(scope).call(locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;156&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-2&quot; onclick=&quot;toggle(2);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # Generates all template source by combining the preamble, template, and
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # postamble and returns a two-tuple of the form: [source, offset], where
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # source is the string containing (Ruby) source code for the template and
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # offset is the integer line offset where line reporting should begin.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;evaluate&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;148&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-3&quot;
[0m[32m+                  onclick=&quot;toggle(3);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # evaluation is guaranteed to be performed in the scope object with the
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # locals specified and with support for yielding to the block.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # This method is only used by source generating templates. Subclasses that
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # override render() may not support all features.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def evaluate(scope, locals, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      method = compiled_method(locals.keys)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;155&quot; class=&quot;context&quot; id=&quot;3&quot;
[0m[32m+                  onclick=&quot;toggle(3);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-3&quot;&gt;&lt;code&gt;      method.bind(scope).call(locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;156&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-3&quot; onclick=&quot;toggle(3);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # Generates all template source by combining the preamble, template, and
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # postamble and returns a two-tuple of the form: [source, offset], where
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # source is the string containing (Ruby) source code for the template and
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # offset is the integer line offset where line reporting should begin.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;render&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;89&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-4&quot;
[0m[32m+                  onclick=&quot;toggle(4);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Render the template in the given scope with the locals specified. If a
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # block is given, it is typically available within the template via
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # +yield+.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def render(scope=Object.new, locals={}, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      current_template = Thread.current[:tilt_current_template]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Thread.current[:tilt_current_template] = self
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;96&quot; class=&quot;context&quot; id=&quot;4&quot;
[0m[32m+                  onclick=&quot;toggle(4);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-4&quot;&gt;&lt;code&gt;      evaluate(scope, locals || {}, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;97&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-4&quot; onclick=&quot;toggle(4);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      Thread.current[:tilt_current_template] = current_template
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # The basename of the template file.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def basename(suffix=&amp;#x27;&amp;#x27;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      File.basename(file, suffix) if file
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;render&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;815&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-5&quot;
[0m[32m+                  onclick=&quot;toggle(5);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      options[:default_encoding] ||= settings.default_encoding
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # compile and render template
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        layout_was      = @default_layout
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @default_layout = false
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        template        = compile_template(engine, data, options, views)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;822&quot; class=&quot;context&quot; id=&quot;5&quot;
[0m[32m+                  onclick=&quot;toggle(5);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-5&quot;&gt;&lt;code&gt;        output          = template.render(scope, locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;823&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-5&quot; onclick=&quot;toggle(5);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        @default_layout = layout_was
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # render layout
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if layout
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        options = options.merge(:views =&amp;gt; views, :layout =&amp;gt; false, :eat_errors =&amp;gt; eat_errors, :scope =&amp;gt; scope).
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;erb&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;659&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-6&quot;
[0m[32m+                  onclick=&quot;toggle(6);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def initialize
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      super
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @default_layout = :layout
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @preferred_extension = nil
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def erb(template, options = {}, locals = {}, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;666&quot; class=&quot;context&quot; id=&quot;6&quot;
[0m[32m+                  onclick=&quot;toggle(6);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-6&quot;&gt;&lt;code&gt;      render(:erb, template, options, locals, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;667&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-6&quot; onclick=&quot;toggle(6);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def erubis(template, options = {}, locals = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      warn &amp;quot;Sinatra::Templates#erubis is deprecated and will be removed, use #erb instead.\n&amp;quot; \
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        &amp;quot;If you have Erubis installed, it will be used automatically.&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      render :erubis, template, options, locals
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info app&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;Development&amp;#x2F;Learn&amp;#x2F;Sinatra&amp;#x2F;Sinatra Project Mode&amp;#x2F;sinatra-fwitter-group-project-v-000&amp;#x2F;app&amp;#x2F;controllers&amp;#x2F;application_controller.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in &amp;lt;class:ApplicationController&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code app&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;48&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-7&quot;
[0m[32m+                  onclick=&quot;toggle(7);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      erb :&amp;#x27;users&amp;#x2F;login&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  get &amp;#x27;&amp;#x2F;tweets&amp;#x27; do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    if session[:user_id]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @tweets = Tweet.all
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;55&quot; class=&quot;context&quot; id=&quot;7&quot;
[0m[32m+                  onclick=&quot;toggle(7);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-7&quot;&gt;&lt;code&gt;      erb :&amp;#x27;tweets&amp;#x2F;tweets&amp;#x27;&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;56&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-7&quot; onclick=&quot;toggle(7);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      redirect to &amp;#x27;&amp;#x2F;login&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  get &amp;#x27;&amp;#x2F;logout&amp;#x27; do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    session.clear
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1603&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-8&quot;
[0m[32m+                  onclick=&quot;toggle(8);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        method_name             = &amp;quot;#{verb} #{path}&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unbound_method          = generate_method(method_name, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        pattern, keys           = compile path
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        conditions, @conditions = @conditions, []
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        wrapper                 = block.arity != 0 ?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call(*p) } :
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1610&quot; class=&quot;context&quot; id=&quot;8&quot;
[0m[32m+                  onclick=&quot;toggle(8);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-8&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1611&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-8&quot; onclick=&quot;toggle(8);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        wrapper.instance_variable_set(:@route_name, method_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        [ pattern, keys, conditions, wrapper ]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def compile(path)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if path.respond_to? :to_str
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in compile!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1603&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-9&quot;
[0m[32m+                  onclick=&quot;toggle(9);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        method_name             = &amp;quot;#{verb} #{path}&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unbound_method          = generate_method(method_name, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        pattern, keys           = compile path
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        conditions, @conditions = @conditions, []
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        wrapper                 = block.arity != 0 ?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call(*p) } :
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1610&quot; class=&quot;context&quot; id=&quot;9&quot;
[0m[32m+                  onclick=&quot;toggle(9);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-9&quot;&gt;&lt;code&gt;          proc { |a,p| unbound_method.bind(a).call }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1611&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-9&quot; onclick=&quot;toggle(9);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        wrapper.instance_variable_set(:@route_name, method_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        [ pattern, keys, conditions, wrapper ]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def compile(path)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if path.respond_to? :to_str
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;[]&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;967&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-10&quot;
[0m[32m+                  onclick=&quot;toggle(10);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;974&quot; class=&quot;context&quot; id=&quot;10&quot;
[0m[32m+                  onclick=&quot;toggle(10);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-10&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;975&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-10&quot; onclick=&quot;toggle(10);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (3 levels) in route!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;967&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-11&quot;
[0m[32m+                  onclick=&quot;toggle(11);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;974&quot; class=&quot;context&quot; id=&quot;11&quot;
[0m[32m+                  onclick=&quot;toggle(11);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-11&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;975&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-11&quot; onclick=&quot;toggle(11);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;route_eval&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;986&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-12&quot;
[0m[32m+                  onclick=&quot;toggle(12);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      route_eval(&amp;amp;pass_block) if pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      route_missing
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run a route block and throw :halt with the result.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route_eval
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;993&quot; class=&quot;context&quot; id=&quot;12&quot;
[0m[32m+                  onclick=&quot;toggle(12);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-12&quot;&gt;&lt;code&gt;      throw :halt, yield&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;994&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-12&quot; onclick=&quot;toggle(12);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # If the current request matches pattern and conditions, fill params
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # with keys and call the given block.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # Revert params afterwards.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # Returns pass block.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (2 levels) in route!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;967&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-13&quot;
[0m[32m+                  onclick=&quot;toggle(13);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;974&quot; class=&quot;context&quot; id=&quot;13&quot;
[0m[32m+                  onclick=&quot;toggle(13);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-13&quot;&gt;&lt;code&gt;            route_eval { block[*args] }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;975&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-13&quot; onclick=&quot;toggle(13);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in process_route&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1007&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-14&quot;
[0m[32m+                  onclick=&quot;toggle(14);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if values.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      catch(:pass) do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1014&quot; class=&quot;context&quot; id=&quot;14&quot;
[0m[32m+                  onclick=&quot;toggle(14);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-14&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1015&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-14&quot; onclick=&quot;toggle(14);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @params = original if original
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # No matching route was found or all routes passed. The default
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # implementation is to forward the request downstream when running
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1005&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-15&quot;
[0m[32m+                  onclick=&quot;toggle(15);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      values += match.captures.map! { |v| force_encoding URI_INSTANCE.unescape(v) if v }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if values.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1012&quot; class=&quot;context&quot; id=&quot;15&quot;
[0m[32m+                  onclick=&quot;toggle(15);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-15&quot;&gt;&lt;code&gt;      catch(:pass) do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1013&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-15&quot; onclick=&quot;toggle(15);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @params = original if original
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;process_route&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1005&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-16&quot;
[0m[32m+                  onclick=&quot;toggle(16);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      values += match.captures.map! { |v| force_encoding URI_INSTANCE.unescape(v) if v }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if values.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        original, @params = params, params.merge(&amp;#x27;splat&amp;#x27; =&amp;gt; [], &amp;#x27;captures&amp;#x27; =&amp;gt; values)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        keys.zip(values) { |k,v| Array === @params[k] ? @params[k] &amp;lt;&amp;lt; v : @params[k] = v if v }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1012&quot; class=&quot;context&quot; id=&quot;16&quot;
[0m[32m+                  onclick=&quot;toggle(16);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-16&quot;&gt;&lt;code&gt;      catch(:pass) do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1013&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-16&quot; onclick=&quot;toggle(16);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        conditions.each { |c| throw :pass if c.bind(self).call == false }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        block ? block[self, values] : yield(self, values)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @params = original if original
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in route!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;965&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-17&quot;
[0m[32m+                  onclick=&quot;toggle(17);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;972&quot; class=&quot;context&quot; id=&quot;17&quot;
[0m[32m+                  onclick=&quot;toggle(17);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-17&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;973&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-17&quot; onclick=&quot;toggle(17);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            route_eval { block[*args] }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;each&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;964&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-18&quot;
[0m[32m+                  onclick=&quot;toggle(18);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      filter! type, base.superclass if base.superclass.respond_to?(:filters)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;971&quot; class=&quot;context&quot; id=&quot;18&quot;
[0m[32m+                  onclick=&quot;toggle(18);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-18&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;972&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-18&quot; onclick=&quot;toggle(18);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            route_eval { block[*args] }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;route!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;964&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-19&quot;
[0m[32m+                  onclick=&quot;toggle(19);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      filter! type, base.superclass if base.superclass.respond_to?(:filters)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      base.filters[type].each { |args| process_route(*args) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run routes defined on the class and all superclasses.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def route!(base = settings, pass_block = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      if routes = base.routes[@request.request_method]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;971&quot; class=&quot;context&quot; id=&quot;19&quot;
[0m[32m+                  onclick=&quot;toggle(19);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-19&quot;&gt;&lt;code&gt;        routes.each do |pattern, keys, conditions, block|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;972&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-19&quot; onclick=&quot;toggle(19);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          returned_pass_block = process_route(pattern, keys, conditions) do |*args|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            env[&amp;#x27;sinatra.route&amp;#x27;] = block.instance_variable_get(:@route_name)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            route_eval { block[*args] }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # don&amp;#x27;t wipe out pass_block in superclass
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          pass_block = returned_pass_block if returned_pass_block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in dispatch!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1077&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-20&quot;
[0m[32m+                  onclick=&quot;toggle(20);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Dispatch a request with error handling.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def dispatch!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      invoke do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        static! if settings.static? &amp;amp;&amp;amp; (request.get? || request.head?)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        filter! :before
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1084&quot; class=&quot;context&quot; id=&quot;20&quot;
[0m[32m+                  onclick=&quot;toggle(20);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-20&quot;&gt;&lt;code&gt;        route!&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1085&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-20&quot; onclick=&quot;toggle(20);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    rescue ::Exception =&amp;gt; boom
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      invoke { handle_exception!(boom) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        filter! :after unless env[&amp;#x27;sinatra.static_file&amp;#x27;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      rescue ::Exception =&amp;gt; boom
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in invoke&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-21&quot;
[0m[32m+                  onclick=&quot;toggle(21);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;21&quot;
[0m[32m+                  onclick=&quot;toggle(21);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-21&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-21&quot; onclick=&quot;toggle(21);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-22&quot;
[0m[32m+                  onclick=&quot;toggle(22);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;22&quot;
[0m[32m+                  onclick=&quot;toggle(22);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-22&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-22&quot; onclick=&quot;toggle(22);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-23&quot;
[0m[32m+                  onclick=&quot;toggle(23);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;23&quot;
[0m[32m+                  onclick=&quot;toggle(23);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-23&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-23&quot; onclick=&quot;toggle(23);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;dispatch!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1074&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-24&quot;
[0m[32m+                  onclick=&quot;toggle(24);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        body res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      nil # avoid double setting the same response tuple twice
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Dispatch a request with error handling.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def dispatch!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1081&quot; class=&quot;context&quot; id=&quot;24&quot;
[0m[32m+                  onclick=&quot;toggle(24);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-24&quot;&gt;&lt;code&gt;      invoke do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1082&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-24&quot; onclick=&quot;toggle(24);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        static! if settings.static? &amp;amp;&amp;amp; (request.get? || request.head?)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        filter! :before
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        route!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    rescue ::Exception =&amp;gt; boom
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      invoke { handle_exception!(boom) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in call!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;899&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-25&quot;
[0m[32m+                  onclick=&quot;toggle(25);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @request  = Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @response = Response.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      template_cache.clear if settings.reload_templates
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      force_encoding(@params)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @response[&amp;#x27;Content-Type&amp;#x27;] = nil
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;906&quot; class=&quot;context&quot; id=&quot;25&quot;
[0m[32m+                  onclick=&quot;toggle(25);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-25&quot;&gt;&lt;code&gt;      invoke { dispatch! }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;907&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-25&quot; onclick=&quot;toggle(25);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      invoke { error_block!(response.status) } unless @env[&amp;#x27;sinatra.error&amp;#x27;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      unless @response[&amp;#x27;Content-Type&amp;#x27;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if Array === body and body[0].respond_to? :content_type
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          content_type body[0].content_type
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          content_type :html
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in invoke&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-26&quot;
[0m[32m+                  onclick=&quot;toggle(26);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;26&quot;
[0m[32m+                  onclick=&quot;toggle(26);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-26&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-26&quot; onclick=&quot;toggle(26);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;catch&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-27&quot;
[0m[32m+                  onclick=&quot;toggle(27);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;27&quot;
[0m[32m+                  onclick=&quot;toggle(27);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-27&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-27&quot; onclick=&quot;toggle(27);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1059&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-28&quot;
[0m[32m+                  onclick=&quot;toggle(28);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Creates a Hash with indifferent access.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def indifferent_hash
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Hash.new {|hash,key| hash[key.to_s] if Symbol === key }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Run the block with &amp;#x27;throw :halt&amp;#x27; support and apply result to the response.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1066&quot; class=&quot;context&quot; id=&quot;28&quot;
[0m[32m+                  onclick=&quot;toggle(28);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-28&quot;&gt;&lt;code&gt;      res = catch(:halt) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1067&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-28&quot; onclick=&quot;toggle(28);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      res = [res] if Fixnum === res or String === res
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if Array === res and Fixnum === res.first
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        res = res.dup
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status(res.shift)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        body(res.pop)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers(*res)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      elsif res.respond_to? :each
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call!&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;899&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-29&quot;
[0m[32m+                  onclick=&quot;toggle(29);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @request  = Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @response = Response.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      template_cache.clear if settings.reload_templates
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      force_encoding(@params)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @response[&amp;#x27;Content-Type&amp;#x27;] = nil
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;906&quot; class=&quot;context&quot; id=&quot;29&quot;
[0m[32m+                  onclick=&quot;toggle(29);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-29&quot;&gt;&lt;code&gt;      invoke { dispatch! }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;907&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-29&quot; onclick=&quot;toggle(29);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      invoke { error_block!(response.status) } unless @env[&amp;#x27;sinatra.error&amp;#x27;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      unless @response[&amp;#x27;Content-Type&amp;#x27;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if Array === body and body[0].respond_to? :content_type
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          content_type body[0].content_type
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          content_type :html
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;887&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-30&quot;
[0m[32m+                  onclick=&quot;toggle(30);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @app = app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @template_cache = Tilt::Cache.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      yield self if block_given?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Rack call interface.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;894&quot; class=&quot;context&quot; id=&quot;30&quot;
[0m[32m+                  onclick=&quot;toggle(30);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-30&quot;&gt;&lt;code&gt;      dup.call!(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;895&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-30&quot; onclick=&quot;toggle(30);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def call!(env) # :nodoc:
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @env      = env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @request  = Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @response = Response.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @params   = indifferent_params(@request.params)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;xss_header.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;11&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-31&quot;
[0m[32m+                  onclick=&quot;toggle(31);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Options:
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # xss_mode:: How the browser should prevent the attack (default: :block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    class XSSHeader &amp;lt; Base
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      default_options :xss_mode =&amp;gt; :block, :nosniff =&amp;gt; true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;18&quot; class=&quot;context&quot; id=&quot;31&quot;
[0m[32m+                  onclick=&quot;toggle(31);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-31&quot;&gt;&lt;code&gt;        status, headers, body = @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;19&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-31&quot; onclick=&quot;toggle(31);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-XSS-Protection&amp;#x27;]       ||= &amp;quot;1; mode=#{options[:xss_mode]}&amp;quot; if html? headers
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-Content-Type-Options&amp;#x27;] ||= &amp;#x27;nosniff&amp;#x27;                       if options[:nosniff]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        [status, headers, body]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;42&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-32&quot;
[0m[32m+                  onclick=&quot;toggle(32);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unless accepts? env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          instrument env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result = react env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;49&quot; class=&quot;context&quot; id=&quot;32&quot;
[0m[32m+                  onclick=&quot;toggle(32);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-32&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;50&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-32&quot; onclick=&quot;toggle(32);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def react(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;42&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-33&quot;
[0m[32m+                  onclick=&quot;toggle(33);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unless accepts? env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          instrument env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result = react env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;49&quot; class=&quot;context&quot; id=&quot;33&quot;
[0m[32m+                  onclick=&quot;toggle(33);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-33&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;50&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-33&quot; onclick=&quot;toggle(33);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def react(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;path_traversal.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;9&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-34&quot;
[0m[32m+                  onclick=&quot;toggle(34);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Unescapes &amp;#x27;&amp;#x2F;&amp;#x27; and &amp;#x27;.&amp;#x27;, expands +path_info+.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Thus &amp;lt;tt&amp;gt;GET &amp;#x2F;foo&amp;#x2F;%2e%2e%2fbar&amp;lt;&amp;#x2F;tt&amp;gt; becomes &amp;lt;tt&amp;gt;GET &amp;#x2F;bar&amp;lt;&amp;#x2F;tt&amp;gt;.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    class PathTraversal &amp;lt; Base
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        path_was         = env[&amp;quot;PATH_INFO&amp;quot;]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        env[&amp;quot;PATH_INFO&amp;quot;] = cleanup path_was if path_was &amp;amp;&amp;amp; !path_was.empty?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;16&quot; class=&quot;context&quot; id=&quot;34&quot;
[0m[32m+                  onclick=&quot;toggle(34);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-34&quot;&gt;&lt;code&gt;        app.call env&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;17&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-34&quot; onclick=&quot;toggle(34);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        env[&amp;quot;PATH_INFO&amp;quot;] = path_was
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def cleanup(path)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if path.respond_to?(:encoding)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          # Ruby 1.9+ M17N
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;json_csrf.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;11&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-35&quot;
[0m[32m+                  onclick=&quot;toggle(35);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # Array prototype has been patched to track data. Checks the referrer
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    # even on GET requests if the content type is JSON.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    class JsonCsrf &amp;lt; Base
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      alias react deny
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        request               = Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;18&quot; class=&quot;context&quot; id=&quot;35&quot;
[0m[32m+                  onclick=&quot;toggle(35);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-35&quot;&gt;&lt;code&gt;        status, headers, body = app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;19&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-35&quot; onclick=&quot;toggle(35);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if has_vector? request, headers
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          warn env, &amp;quot;attack prevented by #{self.class}&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          react(env) or [status, headers, body]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          [status, headers, body]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;42&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-36&quot;
[0m[32m+                  onclick=&quot;toggle(36);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unless accepts? env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          instrument env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result = react env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;49&quot; class=&quot;context&quot; id=&quot;36&quot;
[0m[32m+                  onclick=&quot;toggle(36);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-36&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;50&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-36&quot; onclick=&quot;toggle(36);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def react(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;42&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-37&quot;
[0m[32m+                  onclick=&quot;toggle(37);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        unless accepts? env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          instrument env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result = react env
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;49&quot; class=&quot;context&quot; id=&quot;37&quot;
[0m[32m+                  onclick=&quot;toggle(37);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-37&quot;&gt;&lt;code&gt;        result or app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;50&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-37&quot; onclick=&quot;toggle(37);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def react(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result = send(options[:reaction], env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        result if Array === result and result.size == 3
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-protection-1.5.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;protection&amp;#x2F;frame_options.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;24&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-38&quot;
[0m[32m+                  onclick=&quot;toggle(38);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          frame_options = options[:frame_options]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          frame_options = options[:frame_options].to_s.upcase unless frame_options.respond_to? :to_str
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          frame_options.to_str
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;31&quot; class=&quot;context&quot; id=&quot;38&quot;
[0m[32m+                  onclick=&quot;toggle(38);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-38&quot;&gt;&lt;code&gt;        status, headers, body        = @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;32&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-38&quot; onclick=&quot;toggle(38);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        headers[&amp;#x27;X-Frame-Options&amp;#x27;] ||= frame_options if html? headers
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        [status, headers, body]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;session&amp;#x2F;abstract&amp;#x2F;id.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;context&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;218&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-39&quot;
[0m[32m+                  onclick=&quot;toggle(39);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          context(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        def context(env, app=@app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          prepare_session(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;225&quot; class=&quot;context&quot; id=&quot;39&quot;
[0m[32m+                  onclick=&quot;toggle(39);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-39&quot;&gt;&lt;code&gt;          status, headers, body = app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;226&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-39&quot; onclick=&quot;toggle(39);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          commit_session(env, status, headers, body)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        def initialize_sid
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          @sidbits = @default_options[:sidbits]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;session&amp;#x2F;abstract&amp;#x2F;id.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;213&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-40&quot;
[0m[32m+                  onclick=&quot;toggle(40);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @default_options = self.class::DEFAULT_OPTIONS.merge(options)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @key = @default_options.delete(:key)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @cookie_only = @default_options.delete(:cookie_only)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          initialize_sid
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;220&quot; class=&quot;context&quot; id=&quot;40&quot;
[0m[32m+                  onclick=&quot;toggle(40);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-40&quot;&gt;&lt;code&gt;          context(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;221&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-40&quot; onclick=&quot;toggle(40);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        def context(env, app=@app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          prepare_session(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          status, headers, body = app.call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          commit_session(env, status, headers, body)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;nulllogger.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;2&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-41&quot;
[0m[32m+                  onclick=&quot;toggle(41);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  class NullLogger
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def initialize(app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @app = app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      env[&amp;#x27;rack.logger&amp;#x27;] = self
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;9&quot; class=&quot;context&quot; id=&quot;41&quot;
[0m[32m+                  onclick=&quot;toggle(41);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-41&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;10&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-41&quot; onclick=&quot;toggle(41);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def info(progname = nil, &amp;amp;block); end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def debug(progname = nil, &amp;amp;block); end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def warn(progname = nil, &amp;amp;block); end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def error(progname = nil, &amp;amp;block); end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def fatal(progname = nil, &amp;amp;block); end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;head.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;6&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-42&quot;
[0m[32m+                  onclick=&quot;toggle(42);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # Rack::Head returns an empty body for all HEAD requests. It leaves
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # all other requests unchanged.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def initialize(app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    @app = app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;13&quot; class=&quot;context&quot; id=&quot;42&quot;
[0m[32m+                  onclick=&quot;toggle(42);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-42&quot;&gt;&lt;code&gt;    status, headers, body = @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;14&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-42&quot; onclick=&quot;toggle(42);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    if env[REQUEST_METHOD] == HEAD
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      [
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        status, headers, Rack::BodyProxy.new([]) do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          body.close if body.respond_to? :close
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;show_exceptions.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;14&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-43&quot;
[0m[32m+                  onclick=&quot;toggle(43);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def initialize(app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @app      = app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @template = ERB.new(TEMPLATE)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;21&quot; class=&quot;context&quot; id=&quot;43&quot;
[0m[32m+                  onclick=&quot;toggle(43);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-43&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;22&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-43&quot; onclick=&quot;toggle(43);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    rescue Exception =&amp;gt; e
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      errors, env[&amp;quot;rack.errors&amp;quot;] = env[&amp;quot;rack.errors&amp;quot;], @@eats_errors
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      if prefers_plain_text?(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        content_type = &amp;quot;text&amp;#x2F;plain&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        exception_string = dump_exception(e)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;174&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-44&quot;
[0m[32m+                  onclick=&quot;toggle(44);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # Some Rack handlers (Thin, Rainbows!) implement an extended body object protocol, however,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # some middleware (namely Rack::Lint) will break it by not mirroring the methods in question.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # This middleware will detect an extended body object and will make sure it reaches the
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # handler directly. We do this here, so our middleware and middleware set up by the app will
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  # still be able to run.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  class ExtendedRack &amp;lt; Struct.new(:app)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;181&quot; class=&quot;context&quot; id=&quot;44&quot;
[0m[32m+                  onclick=&quot;toggle(44);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-44&quot;&gt;&lt;code&gt;      result, callback = app.call(env), env[&amp;#x27;async.callback&amp;#x27;]&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;182&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-44&quot; onclick=&quot;toggle(44);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      return result unless callback and async?(*result)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      after_response { callback.call result }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      setup_close(env, *result)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      throw :async
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;2014&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-45&quot;
[0m[32m+                  onclick=&quot;toggle(45);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def helpers
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @instance
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;2021&quot; class=&quot;context&quot; id=&quot;45&quot;
[0m[32m+                  onclick=&quot;toggle(45);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-45&quot;&gt;&lt;code&gt;      @stack.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;2022&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-45&quot; onclick=&quot;toggle(45);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def inspect
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      &amp;quot;#&amp;lt;#{@instance.class} app_file=#{settings.app_file.inspect}&amp;gt;&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1479&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-46&quot;
[0m[32m+                  onclick=&quot;toggle(46);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        setup_default_middleware builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        setup_middleware builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        builder.run app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1486&quot; class=&quot;context&quot; id=&quot;46&quot;
[0m[32m+                  onclick=&quot;toggle(46);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-46&quot;&gt;&lt;code&gt;        synchronize { prototype.call(env) }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1487&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-46&quot; onclick=&quot;toggle(46);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Like Kernel#caller but excluding certain magic entries and without
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # line &amp;#x2F; method information; the resulting array contains filenames only.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def caller_files
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        cleaned_caller(1).flatten
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;synchronize&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1788&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-47&quot;
[0m[32m+                  onclick=&quot;toggle(47);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @@mutex = Mutex.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def synchronize(&amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        if lock?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @@mutex.synchronize(&amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1795&quot; class=&quot;context&quot; id=&quot;47&quot;
[0m[32m+                  onclick=&quot;toggle(47);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-47&quot;&gt;&lt;code&gt;          yield&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1796&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-47&quot; onclick=&quot;toggle(47);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # used for deprecation warnings
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def warn(message)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        super message + &amp;quot;\n\tfrom #{cleaned_caller.first.join(&amp;#x27;:&amp;#x27;)}&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info framework&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;sinatra-1.4.6&amp;#x2F;lib&amp;#x2F;sinatra&amp;#x2F;base.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code framework&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1479&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-48&quot;
[0m[32m+                  onclick=&quot;toggle(48);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        setup_default_middleware builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        setup_middleware builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        builder.run app
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        builder
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def call(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1486&quot; class=&quot;context&quot; id=&quot;48&quot;
[0m[32m+                  onclick=&quot;toggle(48);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-48&quot;&gt;&lt;code&gt;        synchronize { prototype.call(env) }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1487&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-48&quot; onclick=&quot;toggle(48);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Like Kernel#caller but excluding certain magic entries and without
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # line &amp;#x2F; method information; the resulting array contains filenames only.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def caller_files
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        cleaned_caller(1).flatten
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-1.6.4&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;methodoverride.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;call&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;15&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-49&quot;
[0m[32m+                  onclick=&quot;toggle(49);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        method = method_override(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        if HTTP_METHODS.include?(method)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          env[&amp;quot;rack.methodoverride.original_method&amp;quot;] = env[REQUEST_METHOD]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          env[REQUEST_METHOD] = method
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;22&quot; class=&quot;context&quot; id=&quot;49&quot;
[0m[32m+                  onclick=&quot;toggle(49);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-49&quot;&gt;&lt;code&gt;      @app.call(env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;23&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-49&quot; onclick=&quot;toggle(49);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def method_override(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      req = Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      method = method_override_param(req) ||
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        env[HTTP_METHOD_OVERRIDE_HEADER]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      method.to_s.upcase
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;mock_session.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;request&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;23&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-50&quot;
[0m[32m+                  onclick=&quot;toggle(50);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def set_cookie(cookie, uri = nil)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      cookie_jar.merge(cookie, uri)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def request(uri, env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      env[&amp;quot;HTTP_COOKIE&amp;quot;] ||= cookie_jar.for(uri)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      @last_request = Rack::Request.new(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;30&quot; class=&quot;context&quot; id=&quot;50&quot;
[0m[32m+                  onclick=&quot;toggle(50);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-50&quot;&gt;&lt;code&gt;      status, headers, body = @app.call(@last_request.env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;31&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-50&quot; onclick=&quot;toggle(50);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @last_response = MockResponse.new(status, headers, body, env[&amp;quot;rack.errors&amp;quot;].flush)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      body.close if body.respond_to?(:close)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      cookie_jar.merge(last_response.headers[&amp;quot;Set-Cookie&amp;quot;], uri)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      @after_request.each { |hook| hook.call }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;test.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;process_request&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;237&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-51&quot;
[0m[32m+                  onclick=&quot;toggle(51);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        Rack::MockRequest.env_for(uri.to_s, env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def process_request(uri, env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        uri = URI.parse(uri)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        uri.host ||= @default_host
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;244&quot; class=&quot;context&quot; id=&quot;51&quot;
[0m[32m+                  onclick=&quot;toggle(51);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-51&quot;&gt;&lt;code&gt;        @rack_mock_session.request(uri, env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;245&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-51&quot; onclick=&quot;toggle(51);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        if retry_with_digest_auth?(env)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          auth_env = env.merge({
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            &amp;quot;HTTP_AUTHORIZATION&amp;quot;          =&amp;gt; digest_auth_header,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            &amp;quot;rack-test.digest_auth_retry&amp;quot; =&amp;gt; true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          })
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          auth_env.delete(&amp;#x27;rack.request&amp;#x27;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rack-test-0.6.3&amp;#x2F;lib&amp;#x2F;rack&amp;#x2F;test.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;get&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;51&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-52&quot;
[0m[32m+                  onclick=&quot;toggle(52);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # the app&amp;#x27;s response in #last_response. Yield #last_response to a block
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # if given.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # Example:
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   get &amp;quot;&amp;#x2F;&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def get(uri, params = {}, env = {}, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        env = env_for(uri, env.merge(:method =&amp;gt; &amp;quot;GET&amp;quot;, :params =&amp;gt; params))
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;58&quot; class=&quot;context&quot; id=&quot;52&quot;
[0m[32m+                  onclick=&quot;toggle(52);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-52&quot;&gt;&lt;code&gt;        process_request(uri, env, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;59&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-52&quot; onclick=&quot;toggle(52);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Issue a POST request for the given URI. See #get
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Example:
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      #   post &amp;quot;&amp;#x2F;signup&amp;quot;, &amp;quot;name&amp;quot; =&amp;gt; &amp;quot;Bryan&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def post(uri, params = {}, env = {}, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info app&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;rubies&amp;#x2F;ruby-2.2.3&amp;#x2F;lib&amp;#x2F;ruby&amp;#x2F;2.2.0&amp;#x2F;forwardable.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;get&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code app&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;176&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-53&quot;
[0m[32m+                  onclick=&quot;toggle(53);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  #   q.queue    #=&amp;gt; [42]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  #   q.push 23  #=&amp;gt; NoMethodError
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def def_instance_delegator(accessor, method, ali = method)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    line_no = __LINE__; str = %{
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def #{ali}(*args, &amp;amp;block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;183&quot; class=&quot;context&quot; id=&quot;53&quot;
[0m[32m+                  onclick=&quot;toggle(53);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-53&quot;&gt;&lt;code&gt;          #{accessor}.__send__(:#{method}, *args, &amp;amp;block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;184&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-53&quot; onclick=&quot;toggle(53);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Exception
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          $@.delete_if{|s| Forwardable::FILE_REGEXP =~ s} unless Forwardable::debug
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          ::Kernel::raise
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # If it&amp;#x27;s not a class or module, it&amp;#x27;s an instance
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;process&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;53&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-54&quot;
[0m[32m+                  onclick=&quot;toggle(54);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    new_uri.port ||= @current_port unless new_uri.default_port == @current_port
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    @current_scheme = new_uri.scheme
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    @current_host = new_uri.host
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    @current_port = new_uri.port
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    reset_cache!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;60&quot; class=&quot;context&quot; id=&quot;54&quot;
[0m[32m+                  onclick=&quot;toggle(54);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-54&quot;&gt;&lt;code&gt;    send(method, new_uri.to_s, attributes, env.merge(options[:headers] || {}))&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;61&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-54&quot; onclick=&quot;toggle(54);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  def current_url
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    last_request.url
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  rescue Rack::Test::Error
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    &amp;quot;&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;process_and_follow_redirects&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;28&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-55&quot;
[0m[32m+                  onclick=&quot;toggle(55);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def follow(method, path, attributes = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    return if path.gsub(&amp;#x2F;^#{Regexp.escape(request_path)}&amp;#x2F;, &amp;#x27;&amp;#x27;).start_with?(&amp;#x27;#&amp;#x27;) || path.downcase.start_with?(&amp;#x27;javascript:&amp;#x27;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    process_and_follow_redirects(method, path, attributes, {&amp;#x27;HTTP_REFERER&amp;#x27; =&amp;gt; current_url})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def process_and_follow_redirects(method, path, attributes = {}, env = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;35&quot; class=&quot;context&quot; id=&quot;55&quot;
[0m[32m+                  onclick=&quot;toggle(55);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-55&quot;&gt;&lt;code&gt;    process(method, path, attributes, env)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;36&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-55&quot; onclick=&quot;toggle(55);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    if driver.follow_redirects?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      driver.redirect_limit.times do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        process(:get, last_response[&amp;quot;Location&amp;quot;], {}, env) if last_response.redirect?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      raise Capybara::InfiniteRedirectError, &amp;quot;redirected more than #{driver.redirect_limit} times, check for infinite redirects.&amp;quot; if last_response.redirect?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;browser.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;14&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-56&quot;
[0m[32m+                  onclick=&quot;toggle(56);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def options
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    driver.options
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def visit(path, attributes = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    reset_host!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;21&quot; class=&quot;context&quot; id=&quot;56&quot;
[0m[32m+                  onclick=&quot;toggle(56);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-56&quot;&gt;&lt;code&gt;    process_and_follow_redirects(:get, path, attributes)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;22&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-56&quot; onclick=&quot;toggle(56);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  def submit(method, path, attributes)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    path = request_path if not path or path.empty?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    process_and_follow_redirects(method, path, attributes, {&amp;#x27;HTTP_REFERER&amp;#x27; =&amp;gt; current_url})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;rack_test&amp;#x2F;driver.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;35&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-57&quot;
[0m[32m+                  onclick=&quot;toggle(57);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def request
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    browser.last_request
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  def visit(path, attributes = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;42&quot; class=&quot;context&quot; id=&quot;57&quot;
[0m[32m+                  onclick=&quot;toggle(57);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-57&quot;&gt;&lt;code&gt;    browser.visit(path, attributes)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;43&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-57&quot; onclick=&quot;toggle(57);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  def submit(method, path, attributes)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    browser.submit(method, path, attributes)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  def follow(method, path, attributes = {})
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;session.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;visit&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;225&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-58&quot;
[0m[32m+                  onclick=&quot;toggle(58);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        if Capybara.always_include_port
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          uri = URI.parse(url)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          uri.port = @server.port if uri.port == uri.default_port
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          url = uri.to_s
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;232&quot; class=&quot;context&quot; id=&quot;58&quot;
[0m[32m+                  onclick=&quot;toggle(58);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-58&quot;&gt;&lt;code&gt;      driver.visit(url)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;233&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-58&quot; onclick=&quot;toggle(58);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    ##
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # Move back a single entry in the browser&amp;#x27;s history.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def go_back
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;capybara-2.5.0&amp;#x2F;lib&amp;#x2F;capybara&amp;#x2F;dsl.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (2 levels) in &amp;lt;module:DSL&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;44&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-59&quot;
[0m[32m+                  onclick=&quot;toggle(59);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def page
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      Capybara.current_session
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    Session::DSL_METHODS.each do |method|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      define_method method do |*args, &amp;amp;block|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;51&quot; class=&quot;context&quot; id=&quot;59&quot;
[0m[32m+                  onclick=&quot;toggle(59);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-59&quot;&gt;&lt;code&gt;        page.send method, *args, &amp;amp;block&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;52&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-59&quot; onclick=&quot;toggle(59);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;  extend(Capybara::DSL)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info app&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;Development&amp;#x2F;Learn&amp;#x2F;Sinatra&amp;#x2F;Sinatra Project Mode&amp;#x2F;sinatra-fwitter-group-project-v-000&amp;#x2F;spec&amp;#x2F;controllers&amp;#x2F;application_controller_spec.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (4 levels) in &amp;lt;top (required)&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code app&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;167&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-60&quot;
[0m[32m+                  onclick=&quot;toggle(60);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        tweet2 = Tweet.create(:content =&amp;gt; &amp;quot;look at this tweet&amp;quot;, :user_id =&amp;gt; user2.id)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        visit &amp;#x27;&amp;#x2F;login&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        fill_in(:username, :with =&amp;gt; &amp;quot;becky567&amp;quot;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        fill_in(:password, :with =&amp;gt; &amp;quot;kittens&amp;quot;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        click_button &amp;#x27;submit&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;174&quot; class=&quot;context&quot; id=&quot;60&quot;
[0m[32m+                  onclick=&quot;toggle(60);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-60&quot;&gt;&lt;code&gt;        visit &amp;quot;&amp;#x2F;tweets&amp;quot;&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;175&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-60&quot; onclick=&quot;toggle(60);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        expect(page.body).to include(tweet1.content)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        expect(page.body).to include(tweet2.content)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    context &amp;#x27;logged out&amp;#x27; do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;instance_exec&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;229&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-61&quot;
[0m[32m+                  onclick=&quot;toggle(61);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          if skipped?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;              begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;                run_before_example
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;236&quot; class=&quot;context&quot; id=&quot;61&quot;
[0m[32m+                  onclick=&quot;toggle(61);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-61&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;237&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-61&quot; onclick=&quot;toggle(61);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                if pending?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                  raise Pending::PendingExampleFixedError,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                        &amp;#x27;Expected example to fail since it is pending, but it passed.&amp;#x27;,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                        [location]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;229&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-62&quot;
[0m[32m+                  onclick=&quot;toggle(62);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          if skipped?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;              begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;                run_before_example
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;236&quot; class=&quot;context&quot; id=&quot;62&quot;
[0m[32m+                  onclick=&quot;toggle(62);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-62&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;237&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-62&quot; onclick=&quot;toggle(62);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                if pending?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                  raise Pending::PendingExampleFixedError,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                        &amp;#x27;Expected example to fail since it is pending, but it passed.&amp;#x27;,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                        [location]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in with_around_and_singleton_context_hooks&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;470&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-63&quot;
[0m[32m+                  onclick=&quot;toggle(63);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @example_group_instance.setup_mocks_for_rspec
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        hooks.run(:before, :example, self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def with_around_and_singleton_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host = example_group_instance.singleton_class
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_before_context_hooks(example_group_instance)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;477&quot; class=&quot;context&quot; id=&quot;63&quot;
[0m[32m+                  onclick=&quot;toggle(63);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-63&quot;&gt;&lt;code&gt;        with_around_example_hooks { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;478&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-63&quot; onclick=&quot;toggle(63);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_after_context_hooks(example_group_instance)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def run_after_example
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        assign_generated_description if defined?(::RSpec::Matchers)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        hooks.run(:after, :example, self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in with_around_example_hooks&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;427&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-64&quot;
[0m[32m+                  onclick=&quot;toggle(64);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        example_group_instance.singleton_class.hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def with_around_example_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;434&quot; class=&quot;context&quot; id=&quot;64&quot;
[0m[32m+                  onclick=&quot;toggle(64);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-64&quot;&gt;&lt;code&gt;        hooks.run(:around, :example, self) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;435&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-64&quot; onclick=&quot;toggle(64);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; e
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        set_exception(e)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def start(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        reporter.example_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        execution_result.started_at = clock.now
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;471&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-65&quot;
[0m[32m+                  onclick=&quot;toggle(65);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          if scope == :context
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            run_owned_hooks_for(position, :context, example_or_group)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            case position
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            when :before then run_example_hooks_for(example_or_group, :before, :reverse_each)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            when :after  then run_example_hooks_for(example_or_group, :after,  :each)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;478&quot; class=&quot;context&quot; id=&quot;65&quot;
[0m[32m+                  onclick=&quot;toggle(65);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-65&quot;&gt;&lt;code&gt;            when :around then run_around_example_hooks_for(example_or_group) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;479&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-65&quot; onclick=&quot;toggle(65);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        SCOPES = [:example, :context]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        SCOPE_ALIASES = { :each =&amp;gt; :example, :all =&amp;gt; :context }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run_around_example_hooks_for&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;609&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-66&quot;
[0m[32m+                  onclick=&quot;toggle(66);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        def run_around_example_hooks_for(example)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          hooks = FlatMap.flat_map(owner_parent_groups) do |group|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            group.hooks.matching_hooks_for(:around, :example, example)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;616&quot; class=&quot;context&quot; id=&quot;66&quot;
[0m[32m+                  onclick=&quot;toggle(66);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-66&quot;&gt;&lt;code&gt;          return yield if hooks.empty? # exit early to avoid the extra allocation cost of `Example::Procsy`&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;617&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-66&quot; onclick=&quot;toggle(66);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          initial_procsy = Example::Procsy.new(example) { yield }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          hooks.inject(initial_procsy) do |procsy, around_hook|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            procsy.wrap { around_hook.execute_with(example, procsy) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end.call
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;hooks.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;471&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-67&quot;
[0m[32m+                  onclick=&quot;toggle(67);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          if scope == :context
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            run_owned_hooks_for(position, :context, example_or_group)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            case position
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            when :before then run_example_hooks_for(example_or_group, :before, :reverse_each)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            when :after  then run_example_hooks_for(example_or_group, :after,  :each)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;478&quot; class=&quot;context&quot; id=&quot;67&quot;
[0m[32m+                  onclick=&quot;toggle(67);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-67&quot;&gt;&lt;code&gt;            when :around then run_around_example_hooks_for(example_or_group) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;479&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-67&quot; onclick=&quot;toggle(67);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        SCOPES = [:example, :context]
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        SCOPE_ALIASES = { :each =&amp;gt; :example, :all =&amp;gt; :context }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;with_around_example_hooks&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;427&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-68&quot;
[0m[32m+                  onclick=&quot;toggle(68);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        example_group_instance.singleton_class.hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def with_around_example_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;434&quot; class=&quot;context&quot; id=&quot;68&quot;
[0m[32m+                  onclick=&quot;toggle(68);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-68&quot;&gt;&lt;code&gt;        hooks.run(:around, :example, self) { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;435&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-68&quot; onclick=&quot;toggle(68);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; e
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        set_exception(e)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def start(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        reporter.example_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        execution_result.started_at = clock.now
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;with_around_and_singleton_context_hooks&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;470&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-69&quot;
[0m[32m+                  onclick=&quot;toggle(69);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @example_group_instance.setup_mocks_for_rspec
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        hooks.run(:before, :example, self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def with_around_and_singleton_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host = example_group_instance.singleton_class
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_before_context_hooks(example_group_instance)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;477&quot; class=&quot;context&quot; id=&quot;69&quot;
[0m[32m+                  onclick=&quot;toggle(69);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-69&quot;&gt;&lt;code&gt;        with_around_example_hooks { yield }&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;478&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-69&quot; onclick=&quot;toggle(69);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        singleton_context_hooks_host.run_after_context_hooks(example_group_instance)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def run_after_example
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        assign_generated_description if defined?(::RSpec::Matchers)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        hooks.run(:after, :example, self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;226&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-70&quot;
[0m[32m+                  onclick=&quot;toggle(70);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        start(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        Pending.mark_pending!(self, pending) if pending?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          if skipped?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            Pending.mark_pending! self, skip
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          elsif !RSpec.configuration.dry_run?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;233&quot; class=&quot;context&quot; id=&quot;70&quot;
[0m[32m+                  onclick=&quot;toggle(70);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-70&quot;&gt;&lt;code&gt;            with_around_and_singleton_context_hooks do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;234&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-70&quot; onclick=&quot;toggle(70);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;              begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                run_before_example
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                @example_group_instance.instance_exec(self, &amp;amp;@example_block)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                if pending?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;                  Pending.mark_fixed! self
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run_examples&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;574&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-71&quot;
[0m[32m+                  onclick=&quot;toggle(71);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;581&quot; class=&quot;context&quot; id=&quot;71&quot;
[0m[32m+                  onclick=&quot;toggle(71);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-71&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;582&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-71&quot; onclick=&quot;toggle(71);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          succeeded
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end.all?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;570&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-72&quot;
[0m[32m+                  onclick=&quot;toggle(72);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          registry.fetch(:global)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;577&quot; class=&quot;context&quot; id=&quot;72&quot;
[0m[32m+                  onclick=&quot;toggle(72);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-72&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;578&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-72&quot; onclick=&quot;toggle(72);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run_examples&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;570&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-73&quot;
[0m[32m+                  onclick=&quot;toggle(73);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          registry.fetch(:global)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def self.run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;577&quot; class=&quot;context&quot; id=&quot;73&quot;
[0m[32m+                  onclick=&quot;toggle(73);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-73&quot;&gt;&lt;code&gt;        ordering_strategy.order(filtered_examples).map do |example|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;578&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-73&quot; onclick=&quot;toggle(73);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          next if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          instance = new(example.inspect_output)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          set_ivars(instance, before_context_ivars)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          succeeded = example.run(instance, reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          if !succeeded &amp;amp;&amp;amp; reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            RSpec.world.wants_to_quit = true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;536&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-74&quot;
[0m[32m+                  onclick=&quot;toggle(74);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def self.run(reporter=RSpec::Core::NullReporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;543&quot; class=&quot;context&quot; id=&quot;74&quot;
[0m[32m+                  onclick=&quot;toggle(74);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-74&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-74&quot; onclick=&quot;toggle(74);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-75&quot;
[0m[32m+                  onclick=&quot;toggle(75);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;75&quot;
[0m[32m+                  onclick=&quot;toggle(75);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-75&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-75&quot; onclick=&quot;toggle(75);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-76&quot;
[0m[32m+                  onclick=&quot;toggle(76);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;76&quot;
[0m[32m+                  onclick=&quot;toggle(76);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-76&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-76&quot; onclick=&quot;toggle(76);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-77&quot;
[0m[32m+                  onclick=&quot;toggle(77);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;77&quot;
[0m[32m+                  onclick=&quot;toggle(77);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-77&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-77&quot; onclick=&quot;toggle(77);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-78&quot;
[0m[32m+                  onclick=&quot;toggle(78);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;78&quot;
[0m[32m+                  onclick=&quot;toggle(78);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-78&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-78&quot; onclick=&quot;toggle(78);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-79&quot;
[0m[32m+                  onclick=&quot;toggle(79);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;79&quot;
[0m[32m+                  onclick=&quot;toggle(79);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-79&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-79&quot; onclick=&quot;toggle(79);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;example_group.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;537&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-80&quot;
[0m[32m+                  onclick=&quot;toggle(80);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return if RSpec.world.wants_to_quit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        reporter.example_group_started(self)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        should_run_context_hooks = descendant_filtered_examples.any?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_before_context_hooks(new(&amp;#x27;before(:context) hook&amp;#x27;)) if should_run_context_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          result_for_this_group = run_examples(reporter)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;544&quot; class=&quot;context&quot; id=&quot;80&quot;
[0m[32m+                  onclick=&quot;toggle(80);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-80&quot;&gt;&lt;code&gt;          results_for_descendants = ordering_strategy.order(children).map { |child| child.run(reporter) }.all?&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;545&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-80&quot; onclick=&quot;toggle(80);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          result_for_this_group &amp;amp;&amp;amp; results_for_descendants
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Pending::SkipDeclaredInExample =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.skip_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          true
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        rescue Support::AllExceptionsExceptOnesWeMustNotRescue =&amp;gt; ex
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          for_filtered_examples(reporter) { |example| example.fail_with_exception(reporter, ex) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          RSpec.world.wants_to_quit = true if reporter.fail_fast_limit_met?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (3 levels) in run_specs&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;108&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-81&quot;
[0m[32m+                  onclick=&quot;toggle(81);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   failed.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run_specs(example_groups)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;115&quot; class=&quot;context&quot; id=&quot;81&quot;
[0m[32m+                  onclick=&quot;toggle(81);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-81&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;116&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-81&quot; onclick=&quot;toggle(81);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def persist_example_statuses
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;map&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;108&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-82&quot;
[0m[32m+                  onclick=&quot;toggle(82);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   failed.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run_specs(example_groups)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;115&quot; class=&quot;context&quot; id=&quot;82&quot;
[0m[32m+                  onclick=&quot;toggle(82);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-82&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;116&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-82&quot; onclick=&quot;toggle(82);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def persist_example_statuses
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block (2 levels) in run_specs&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;108&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-83&quot;
[0m[32m+                  onclick=&quot;toggle(83);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   failed.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run_specs(example_groups)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;115&quot; class=&quot;context&quot; id=&quot;83&quot;
[0m[32m+                  onclick=&quot;toggle(83);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-83&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;116&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-83&quot; onclick=&quot;toggle(83);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def persist_example_statuses
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;configuration.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;with_suite_hooks&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1673&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-84&quot;
[0m[32m+                  onclick=&quot;toggle(84);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def with_suite_hooks
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        return yield if dry_run?
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        hook_context = SuiteHookContext.new
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          run_hooks_with(@before_suite_hooks, hook_context)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;1680&quot; class=&quot;context&quot; id=&quot;84&quot;
[0m[32m+                  onclick=&quot;toggle(84);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-84&quot;&gt;&lt;code&gt;          yield&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1681&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-84&quot; onclick=&quot;toggle(84);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          run_hooks_with(@after_suite_hooks, hook_context)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Holds the various registered hooks. Here we use a FilterableItemRepository
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;block in run_specs&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;107&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-85&quot;
[0m[32m+                  onclick=&quot;toggle(85);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   failed.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run_specs(example_groups)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;114&quot; class=&quot;context&quot; id=&quot;85&quot;
[0m[32m+                  onclick=&quot;toggle(85);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-85&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;115&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-85&quot; onclick=&quot;toggle(85);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;reporter.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;report&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;70&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-86&quot;
[0m[32m+                  onclick=&quot;toggle(86);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #     reporter.report(group.examples.size) do |r|
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #       example_groups.map {|g| g.run(r) }
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #     end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    def report(expected_example_count)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      start(expected_example_count)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;77&quot; class=&quot;context&quot; id=&quot;86&quot;
[0m[32m+                  onclick=&quot;toggle(86);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-86&quot;&gt;&lt;code&gt;        yield self&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;78&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-86&quot; onclick=&quot;toggle(86);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      ensure
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        finish
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    # @private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    def start(expected_example_count, time=RSpec::Core::Time.now)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run_specs&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;106&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-87&quot;
[0m[32m+                  onclick=&quot;toggle(87);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # Runs the provided example groups.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param example_groups [Array&amp;lt;RSpec::Core::ExampleGroup&amp;gt;] groups to run
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @return [Fixnum] exit status code. 0 if all specs passed,
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   or the configured failure exit code (1 by default) if specs
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #   failed.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run_specs(example_groups)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;113&quot; class=&quot;context&quot; id=&quot;87&quot;
[0m[32m+                  onclick=&quot;toggle(87);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-87&quot;&gt;&lt;code&gt;        @configuration.reporter.report(@world.example_count(example_groups)) do |reporter|&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;114&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-87&quot; onclick=&quot;toggle(87);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          @configuration.with_suite_hooks do
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;            example_groups.map { |g| g.run(reporter) }.all? ? 0 : @configuration.failure_exit_code
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;    private
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;82&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-88&quot;
[0m[32m+                  onclick=&quot;toggle(88);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # Configures and runs a spec suite.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param err [IO] error stream
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # @param out [IO] output stream
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def run(err, out)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        setup(err, out)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;89&quot; class=&quot;context&quot; id=&quot;88&quot;
[0m[32m+                  onclick=&quot;toggle(88);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-88&quot;&gt;&lt;code&gt;        run_specs(@world.ordered_example_groups).tap do&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;90&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-88&quot; onclick=&quot;toggle(88);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;          persist_example_statuses
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Wires together the various configuration objects and state holders.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # @param err [IO] error stream
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;run&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;66&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-89&quot;
[0m[32m+                  onclick=&quot;toggle(89);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            DRbRunner.new(options).run(err, out)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          rescue DRb::DRbConnError
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            err.puts &amp;quot;No DRb server is running. Running in local process instead ...&amp;quot;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;            new(options).run(err, out)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;          end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        else
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;73&quot; class=&quot;context&quot; id=&quot;89&quot;
[0m[32m+                  onclick=&quot;toggle(89);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-89&quot;&gt;&lt;code&gt;          new(options).run(err, out)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;74&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-89&quot; onclick=&quot;toggle(89);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      def initialize(options, configuration=RSpec.configuration, world=RSpec.world)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        @options       = options
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        @configuration = configuration
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        @world         = world
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;lib&amp;#x2F;rspec&amp;#x2F;core&amp;#x2F;runner.rb&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;invoke&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;34&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-90&quot;
[0m[32m+                  onclick=&quot;toggle(90);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # Runs the suite of specs and exits the process with an appropriate exit
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      # code.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;      def self.invoke
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;        disable_autorun!
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;41&quot; class=&quot;context&quot; id=&quot;90&quot;
[0m[32m+                  onclick=&quot;toggle(90);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-90&quot;&gt;&lt;code&gt;        status = run(ARGV, $stderr, $stdout).to_i&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;42&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-90&quot; onclick=&quot;toggle(90);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;        exit(status) if status != 0
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # Run a suite of RSpec examples. Does not exit.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      #
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # This is used internally by RSpec to run a suite, but is available
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;post-context-line&quot;&gt;&lt;code&gt;      # for use by any other automation tool.
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;rspec-core-3.4.1&amp;#x2F;exe&amp;#x2F;rspec&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;&amp;lt;top (required)&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;1&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-91&quot;
[0m[32m+                  onclick=&quot;toggle(91);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;#!&amp;#x2F;usr&amp;#x2F;bin&amp;#x2F;env ruby
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;require &amp;#x27;rspec&amp;#x2F;core&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;4&quot; class=&quot;context&quot; id=&quot;91&quot;
[0m[32m+                  onclick=&quot;toggle(91);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-91&quot;&gt;&lt;code&gt;RSpec::Core::Runner.invoke&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;5&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-91&quot; onclick=&quot;toggle(91);&quot;&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;rspec&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;load&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;16&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-92&quot;
[0m[32m+                  onclick=&quot;toggle(92);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  if str =~ &amp;#x2F;\A_(.*)_\z&amp;#x2F; and Gem::Version.correct?($1) then
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    version = $1
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    ARGV.shift
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;gem &amp;#x27;rspec-core&amp;#x27;, version
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;23&quot; class=&quot;context&quot; id=&quot;92&quot;
[0m[32m+                  onclick=&quot;toggle(92);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-92&quot;&gt;&lt;code&gt;load Gem.bin_path(&amp;#x27;rspec-core&amp;#x27;, &amp;#x27;rspec&amp;#x27;, version)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;24&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-92&quot; onclick=&quot;toggle(92);&quot;&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;rspec&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;&amp;lt;main&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;16&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-93&quot;
[0m[32m+                  onclick=&quot;toggle(93);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  if str =~ &amp;#x2F;\A_(.*)_\z&amp;#x2F; and Gem::Version.correct?($1) then
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    version = $1
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;    ARGV.shift
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;gem &amp;#x27;rspec-core&amp;#x27;, version
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;23&quot; class=&quot;context&quot; id=&quot;93&quot;
[0m[32m+                  onclick=&quot;toggle(93);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-93&quot;&gt;&lt;code&gt;load Gem.bin_path(&amp;#x27;rspec-core&amp;#x27;, &amp;#x27;rspec&amp;#x27;, version)&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;24&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-93&quot; onclick=&quot;toggle(93);&quot;&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;ruby_executable_hooks&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;eval&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;8&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-94&quot;
[0m[32m+                  onclick=&quot;toggle(94);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  require &amp;#x27;executable-hooks&amp;#x2F;hooks&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  Gem::ExecutableHooks.run($0)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;rescue LoadError
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  warn &amp;quot;unable to load executable-hooks&amp;#x2F;hooks&amp;quot; if ENV.key?(&amp;#x27;ExecutableHooks_DEBUG&amp;#x27;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;15&quot; class=&quot;context&quot; id=&quot;94&quot;
[0m[32m+                  onclick=&quot;toggle(94);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-94&quot;&gt;&lt;code&gt;eval File.read($0), binding, $0&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;16&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-94&quot; onclick=&quot;toggle(94);&quot;&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+          
[0m[32m+
[0m[32m+            &lt;li class=&quot;frame-info system&quot;&gt;
[0m[32m+              &lt;code&gt;&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;bin&amp;#x2F;ruby_executable_hooks&lt;/code&gt; in
[0m[32m+                &lt;code&gt;&lt;strong&gt;&amp;lt;main&amp;gt;&lt;/strong&gt;&lt;/code&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+            &lt;li class=&quot;code system&quot;&gt;
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;8&quot;
[0m[32m+                  class=&quot;pre-context&quot; id=&quot;pre-95&quot;
[0m[32m+                  onclick=&quot;toggle(95);&quot;&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;begin
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  require &amp;#x27;executable-hooks&amp;#x2F;hooks&amp;#x27;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  Gem::ExecutableHooks.run($0)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;rescue LoadError
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;  warn &amp;quot;unable to load executable-hooks&amp;#x2F;hooks&amp;quot; if ENV.key?(&amp;#x27;ExecutableHooks_DEBUG&amp;#x27;)
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;end
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+                &lt;li class=&quot;pre-context-line&quot;&gt;&lt;code&gt;
[0m[32m+&lt;/code&gt;&lt;/li&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+
[0m[32m+              &lt;ol start=&quot;15&quot; class=&quot;context&quot; id=&quot;95&quot;
[0m[32m+                  onclick=&quot;toggle(95);&quot;&gt;
[0m[32m+                &lt;li class=&quot;context-line&quot; id=&quot;context-95&quot;&gt;&lt;code&gt;eval File.read($0), binding, $0&lt;/code&gt;&lt;/li&gt;
[0m[32m+              &lt;/ol&gt;
[0m[32m+
[0m[32m+              
[0m[32m+              &lt;ol start=&quot;16&quot; class=&quot;post-context&quot;
[0m[32m+                  id=&quot;post-95&quot; onclick=&quot;toggle(95);&quot;&gt;
[0m[32m+                
[0m[32m+              &lt;/ol&gt;
[0m[32m+              
[0m[32m+              &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+            &lt;/li&gt;
[0m[32m+
[0m[32m+          
[0m[32m+
[0m[32m+        
[0m[32m+      
[0m[32m+
[0m[32m+      &lt;/ul&gt;
[0m[32m+    &lt;/div&gt; &lt;!-- /BACKTRACE --&gt;
[0m[32m+
[0m[32m+    &lt;div id=&quot;get&quot;&gt;
[0m[32m+      &lt;h3 id=&quot;get-info&quot;&gt;GET&lt;/h3&gt;
[0m[32m+      
[0m[32m+        &lt;p class=&quot;no-data&quot;&gt;No GET data.&lt;/p&gt;
[0m[32m+      
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+    &lt;/div&gt; &lt;!-- /GET --&gt;
[0m[32m+
[0m[32m+    &lt;div id=&quot;post&quot;&gt;
[0m[32m+      &lt;h3 id=&quot;post-info&quot;&gt;POST&lt;/h3&gt;
[0m[32m+      
[0m[32m+        &lt;p class=&quot;no-data&quot;&gt;No POST data.&lt;/p&gt;
[0m[32m+      
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+    &lt;/div&gt; &lt;!-- /POST --&gt;
[0m[32m+
[0m[32m+    &lt;div id=&quot;cookies&quot;&gt;
[0m[32m+      &lt;h3 id=&quot;cookie-info&quot;&gt;COOKIES&lt;/h3&gt;
[0m[32m+      
[0m[32m+        &lt;table class=&quot;req&quot;&gt;
[0m[32m+          &lt;tr&gt;
[0m[32m+            &lt;th&gt;Variable&lt;/th&gt;
[0m[32m+            &lt;th&gt;Value&lt;/th&gt;
[0m[32m+          &lt;/tr&gt;
[0m[32m+          
[0m[32m+            &lt;tr&gt;
[0m[32m+              &lt;td&gt;rack.session&lt;/td&gt;
[0m[32m+              &lt;td class=&quot;code&quot;&gt;&lt;div&gt;&amp;quot;BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh\nZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG\nOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz\nNzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7\nAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5\nBjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2\nYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7\nAEZpBg==\n--311be9cbd6719943ba1ce7306d0452ec49741e32&amp;quot;&lt;/div&gt;&lt;/td&gt;
[0m[32m+            &lt;/tr&gt;
[0m[32m+          
[0m[32m+        &lt;/table&gt;
[0m[32m+      
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+    &lt;/div&gt; &lt;!-- /COOKIES --&gt;
[0m[32m+
[0m[32m+    &lt;div id=&quot;rack&quot;&gt;
[0m[32m+      &lt;h3 id=&quot;env-info&quot;&gt;Rack ENV&lt;/h3&gt;
[0m[32m+      &lt;table class=&quot;req&quot;&gt;
[0m[32m+        &lt;tr&gt;
[0m[32m+          &lt;th&gt;Variable&lt;/th&gt;
[0m[32m+          &lt;th&gt;Value&lt;/th&gt;
[0m[32m+        &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;CONTENT_LENGTH&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;0&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;HTTPS&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;off&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;HTTP_COOKIE&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;rack.session=BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh%0AZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG%0AOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz%0ANzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2%0AYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7%0AAEZpBg%3D%3D%0A--311be9cbd6719943ba1ce7306d0452ec49741e32&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;HTTP_HOST&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;www.example.com&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;PATH_INFO&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;&amp;#x2F;tweets&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;QUERY_STRING&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;REMOTE_ADDR&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;127.0.0.1&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;REQUEST_METHOD&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;GET&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;SCRIPT_NAME&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;SERVER_NAME&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;www.example.com&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;SERVER_PORT&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;80&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.errors&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;#&amp;lt;Object:0x007fbaf39062c0&amp;gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.input&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;#&amp;lt;StringIO:0x007fbaf4c68890&amp;gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.logger&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;#&amp;lt;Rack::NullLogger:0x007fbaf71b4068 @app=#&amp;lt;Rack::Session::Cookie:0x007fbaf71b4180 @secrets=[&amp;quot;the_trillest&amp;quot;], @coder=#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;, @app=#&amp;lt;Rack::Protection::FrameOptions:0x007fbaf71b4310 @app=#&amp;lt;Rack::Protection::HttpOrigin:0x007fbaf71b43b0 @app=#&amp;lt;Rack::Protection::IPSpoofing:0x007fbaf71b4450 @app=#&amp;lt;Rack::Protection::JsonCsrf:0x007fbaf71b44f0 @app=#&amp;lt;Rack::Protection::PathTraversal:0x007fbaf71b4590 @app=#&amp;lt;Rack::Protection::RemoteToken:0x007fbaf71b4680 @app=#&amp;lt;Rack::Protection::SessionHijacking:0x007fbaf71b4770 @app=#&amp;lt;Rack::Protection::XSSHeader:0x007fbaf71b4860 @app=#&amp;lt;ApplicationController:0x007fbaf30656c0 @default_layout=:layout, @preferred_extension=nil, @app=nil, @template_cache=#&amp;lt;Tilt::Cache:0x007fbaf3065698 @cache={[:erb, :&amp;quot;tweets&amp;#x2F;tweets&amp;quot;, {:outvar=&amp;gt;&amp;quot;@_out_buf&amp;quot;, :default_encoding=&amp;gt;&amp;quot;utf-8&amp;quot;}, &amp;quot;app&amp;#x2F;views&amp;quot;]=&amp;gt;#&amp;lt;Tilt::ERBTemplate:0x007fbaf4c60898 @options={:outvar=&amp;gt;&amp;quot;@_out_buf&amp;quot;, :trim=&amp;gt;&amp;quot;&amp;lt;&amp;gt;&amp;quot;}, @line=1, @file=&amp;quot;app&amp;#x2F;views&amp;#x2F;tweets&amp;#x2F;tweets.erb&amp;quot;, @compiled_method={[]=&amp;gt;#&amp;lt;UnboundMethod: BasicObject#__tilt_70220459139580&amp;gt;}, @default_encoding=&amp;quot;utf-8&amp;quot;, @reader=#&amp;lt;Proc:0x007fbaf4c60758@&amp;#x2F;Users&amp;#x2F;brandenmiller&amp;#x2F;.rvm&amp;#x2F;gems&amp;#x2F;ruby-2.2.3&amp;#x2F;gems&amp;#x2F;tilt-2.0.1&amp;#x2F;lib&amp;#x2F;tilt&amp;#x2F;template.rb:76 (lambda)&amp;gt;, @data=&amp;quot;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;\n&amp;lt;% @user_tweets.each do |tweet| %&amp;gt;\n  &amp;lt;p&amp;gt;&amp;lt;%= tweet.user.username %&amp;gt; - &amp;lt;%= tweet.content %&amp;gt;&amp;lt;&amp;#x2F;p&amp;gt;\n&amp;lt;% end %&amp;gt;&amp;quot;, @outvar=&amp;quot;@_out_buf&amp;quot;, @engine=#&amp;lt;ERB:0x007fbaf4c605f0 @safe_level=nil, @src=&amp;quot;#coding:UTF-8\n@_out_buf = &amp;#x27;&amp;#x27;; @_out_buf.concat \&amp;quot;&amp;lt;h1&amp;gt;Welcome, &amp;lt;&amp;#x2F;h1&amp;gt;\\n\&amp;quot;\n;  @user_tweets.each do |tweet| \n@_out_buf.concat \&amp;quot;  &amp;lt;p&amp;gt;\&amp;quot;; @_out_buf.concat(( tweet.user.username ).to_s); @_out_buf.concat \&amp;quot; - \&amp;quot;; @_out_buf.concat(( tweet.content ).to_s); @_out_buf.concat \&amp;quot;&amp;lt;&amp;#x2F;p&amp;gt;\\n\&amp;quot;\n;  end ; @_out_buf.force_encoding(__ENCODING__)&amp;quot;, @encoding=#&amp;lt;Encoding:UTF-8&amp;gt;, @filename=nil, @lineno=0&amp;gt;&amp;gt;}&amp;gt;&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :xss_mode=&amp;gt;:block, :nosniff=&amp;gt;true, :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :tracking_key=&amp;gt;:tracking, :encrypt_tracking=&amp;gt;true, :track=&amp;gt;[&amp;quot;HTTP_USER_AGENT&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :authenticity_param=&amp;gt;&amp;quot;authenticity_token&amp;quot;, :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :except=&amp;gt;[]}&amp;gt;, @options={:reaction=&amp;gt;:drop_session, :logging=&amp;gt;true, :message=&amp;gt;&amp;quot;Forbidden&amp;quot;, :encryptor=&amp;gt;Digest::SHA1, :session_key=&amp;gt;&amp;quot;rack.session&amp;quot;, :status=&amp;gt;403, :allow_empty_referrer=&amp;gt;true, :report_key=&amp;gt;&amp;quot;protection.failed&amp;quot;, :html_types=&amp;gt;[&amp;quot;text&amp;#x2F;html&amp;quot;, &amp;quot;application&amp;#x2F;xhtml&amp;quot;], :frame_options=&amp;gt;:sameorigin, :except=&amp;gt;[]}, @frame_options=&amp;quot;SAMEORIGIN&amp;quot;&amp;gt;, @default_options={:path=&amp;gt;&amp;quot;&amp;#x2F;&amp;quot;, :domain=&amp;gt;nil, :expire_after=&amp;gt;nil, :secure=&amp;gt;false, :httponly=&amp;gt;true, :defer=&amp;gt;false, :renew=&amp;gt;false, :sidbits=&amp;gt;128, :secure_random=&amp;gt;SecureRandom, :secret=&amp;gt;&amp;quot;the_trillest&amp;quot;, :coder=&amp;gt;#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;}, @key=&amp;quot;rack.session&amp;quot;, @cookie_only=true, @sidbits=128, @sid_secure=SecureRandom, @sid_length=32&amp;gt;&amp;gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.multiprocess&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.multithread&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.request.cookie_hash&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;{&amp;quot;rack.session&amp;quot;=&amp;gt;&amp;quot;BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh\nZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG\nOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz\nNzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7\nAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5\nBjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2\nYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7\nAEZpBg==\n--311be9cbd6719943ba1ce7306d0452ec49741e32&amp;quot;}&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.request.cookie_string&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;rack.session=BAh7CUkiD3Nlc3Npb25faWQGOgZFVEkiRWViMGVmZmUwMmQ0MDA4YjhkYmRh%0AZmNmMTMxNDQzMDNkZTE5YjgwZjdkYzY3YjM2ZWE0ZWY4Y2UyZDY4Nzk4NTUG%0AOwBGSSIJY3NyZgY7AEZJIiUyNDIwNjk3Mzk5ODUxMDBhN2MzZTkyZmUxYjUz%0ANzRlNQY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi1kYTM5YTNlZTVlNmI0YjBkMzI1NWJmZWY5NTYwMTg5MGFmZDgwNzA5%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRhMzlhM2VlNWU2%0AYjRiMGQzMjU1YmZlZjk1NjAxODkwYWZkODA3MDkGOwBGSSIMdXNlcl9pZAY7%0AAEZpBg%3D%3D%0A--311be9cbd6719943ba1ce7306d0452ec49741e32&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.request.query_hash&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;{}&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.request.query_string&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.run_once&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;false&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.session&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;{&amp;quot;session_id&amp;quot;=&amp;gt;&amp;quot;eb0effe02d4008b8dbdafcf13144303de19b80f7dc67b36ea4ef8ce2d6879855&amp;quot;, &amp;quot;csrf&amp;quot;=&amp;gt;&amp;quot;242069739985100a7c3e92fe1b5374e5&amp;quot;, &amp;quot;tracking&amp;quot;=&amp;gt;{&amp;quot;HTTP_USER_AGENT&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;}, &amp;quot;user_id&amp;quot;=&amp;gt;1}&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.session.options&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;{:path=&amp;gt;&amp;quot;&amp;#x2F;&amp;quot;, :domain=&amp;gt;nil, :expire_after=&amp;gt;nil, :secure=&amp;gt;false, :httponly=&amp;gt;true, :defer=&amp;gt;false, :renew=&amp;gt;false, :sidbits=&amp;gt;128, :secure_random=&amp;gt;SecureRandom, :secret=&amp;gt;&amp;quot;the_trillest&amp;quot;, :coder=&amp;gt;#&amp;lt;Rack::Session::Cookie::Base64::Marshal:0x007fbaf71b4108&amp;gt;}&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.session.unpacked_cookie_data&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;{&amp;quot;session_id&amp;quot;=&amp;gt;&amp;quot;eb0effe02d4008b8dbdafcf13144303de19b80f7dc67b36ea4ef8ce2d6879855&amp;quot;, &amp;quot;csrf&amp;quot;=&amp;gt;&amp;quot;242069739985100a7c3e92fe1b5374e5&amp;quot;, &amp;quot;tracking&amp;quot;=&amp;gt;{&amp;quot;HTTP_USER_AGENT&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;, &amp;quot;HTTP_ACCEPT_LANGUAGE&amp;quot;=&amp;gt;&amp;quot;da39a3ee5e6b4b0d3255bfef95601890afd80709&amp;quot;}, &amp;quot;user_id&amp;quot;=&amp;gt;1}&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.test&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;true&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.url_scheme&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;http&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;rack.version&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;[1, 3]&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;sinatra.accept&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;[#&amp;lt;Sinatra::Request::AcceptEntry:0x007fbaf4c51168 @entry=&amp;quot;*&amp;#x2F;*&amp;quot;, @type=&amp;quot;*&amp;#x2F;*&amp;quot;, @params={}, @q=1.0&amp;gt;]&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;sinatra.error&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;#&amp;lt;NoMethodError: undefined method `each&amp;#x27; for nil:NilClass&amp;gt;&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+         &lt;tr&gt;
[0m[32m+           &lt;td&gt;sinatra.route&lt;/td&gt;
[0m[32m+           &lt;td class=&quot;code&quot;&gt;&lt;div&gt;GET &amp;#x2F;tweets&lt;/div&gt;&lt;/td&gt;
[0m[32m+         &lt;/tr&gt;
[0m[32m+         
[0m[32m+      &lt;/table&gt;
[0m[32m+      &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;
[0m[32m+    &lt;/div&gt; &lt;!-- /RACK ENV --&gt;
[0m[32m+
[0m[32m+    &lt;p id=&quot;explanation&quot;&gt;You&#39;re seeing this error because you have
[0m[32m+enabled the &lt;code&gt;show_exceptions&lt;/code&gt; setting.&lt;/p&gt;
[0m[32m+  &lt;/div&gt; &lt;!-- /WRAP --&gt;
[0m[32m+  &lt;/body&gt;
[0m[32m+&lt;/html&gt;
[0m</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:175:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">173</span>        click_button <span class="string"><span class="delimiter">'</span><span class="content">submit</span><span class="delimiter">'</span></span>
<span class="linenum">174</span>        visit <span class="string"><span class="delimiter">&quot;</span><span class="content">/tweets</span><span class="delimiter">&quot;</span></span>
<span class="offending"><span class="linenum">175</span>        expect(page.body).to include(tweet1.content)</span>
<span class="linenum">176</span>        expect(page.body).to include(tweet2.content)
<span class="linenum">177</span>      <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_9" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_9" class="passed">logged out</dt>
    <script type="text/javascript">moveProgressBar('48.5');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user view the tweets index if not logged in</span><span class='duration'>0.00864s</span></dd>
  </dl>
</div>
<div id="div_group_10" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_10" class="passed">new action</dt>
  </dl>
</div>
<div id="div_group_11" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_11" class="passed">logged in</dt>
    <script type="text/javascript">makeRed('div_group_11');</script>
    <script type="text/javascript">makeRed('example_group_11');</script>
    <script type="text/javascript">moveProgressBar('51.4');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets user view new tweet form if logged in</span>
      <span class="duration">0.10718s</span>
      <div class="failure" id="failure_4">
        <div class="message"><pre>
expected: 200
     got: 404

(compared using ==)
</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:203:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">201</span>        click_button <span class="string"><span class="delimiter">'</span><span class="content">submit</span><span class="delimiter">'</span></span>
<span class="linenum">202</span>        visit <span class="string"><span class="delimiter">'</span><span class="content">/tweets/new</span><span class="delimiter">'</span></span>
<span class="offending"><span class="linenum">203</span>        expect(page.status_code).to eq(<span class="integer">200</span>)</span>
<span class="linenum">204</span>
<span class="linenum">205</span>      <span class="keyword">end</span></code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('54.2');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets user create a tweet if they are logged in</span>
      <span class="duration">0.12263s</span>
      <div class="failure" id="failure_5">
        <div class="message"><pre>Unable to find field :content</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:58:in `fill_in&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:217:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('57.1');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let a user tweet from another user</span>
      <span class="duration">0.11430s</span>
      <div class="failure" id="failure_6">
        <div class="message"><pre>Unable to find field :content</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:58:in `fill_in&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:239:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('60.0');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let a user create a blank tweet</span>
      <span class="duration">0.10482s</span>
      <div class="failure" id="failure_7">
        <div class="message"><pre>Unable to find field :content</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:58:in `fill_in&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:261:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_12" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_12" class="passed">logged out</dt>
    <script type="text/javascript">makeRed('div_group_12');</script>
    <script type="text/javascript">makeRed('example_group_12');</script>
    <script type="text/javascript">moveProgressBar('62.8');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let user view new tweet form if not logged in</span>
      <span class="duration">0.01230s</span>
      <div class="failure" id="failure_8">
        <div class="message"><pre>expected nil to include &quot;/login&quot;, but it does not respond to `include?`</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:273:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">271</span>      it <span class="string"><span class="delimiter">'</span><span class="content">does not let user view new tweet form if not logged in</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
<span class="linenum">272</span>        get <span class="string"><span class="delimiter">'</span><span class="content">/tweets/new</span><span class="delimiter">'</span></span>
<span class="offending"><span class="linenum">273</span>        expect(last_response.location).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">274</span>      <span class="keyword">end</span>
<span class="linenum">275</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_13" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_13" class="passed">show action</dt>
  </dl>
</div>
<div id="div_group_14" class="example_group passed">
  <dl style="margin-left: 45px;">
  <dt id="example_group_14" class="passed">logged in</dt>
    <script type="text/javascript">makeRed('div_group_14');</script>
    <script type="text/javascript">makeRed('example_group_14');</script>
    <script type="text/javascript">moveProgressBar('65.7');</script>
    <dd class="example failed">
      <span class="failed_spec_name">displays a single tweet</span>
      <span class="duration">0.12663s</span>
      <div class="failure" id="failure_9">
        <div class="message"><pre>
expected: 200
     got: 404

(compared using ==)
</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:291:in `block (5 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">289</span>
<span class="linenum">290</span>        visit <span class="string"><span class="delimiter">&quot;</span><span class="content">/tweets/</span><span class="inline"><span class="inline-delimiter">#{</span>tweet.id<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
<span class="offending"><span class="linenum">291</span>        expect(page.status_code).to eq(<span class="integer">200</span>)</span>
<span class="linenum">292</span>        expect(page.body).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">Delete Tweet</span><span class="delimiter">&quot;</span></span>)
<span class="linenum">293</span>        expect(page.body).to include(tweet.content)</code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_15" class="example_group passed">
  <dl style="margin-left: 45px;">
  <dt id="example_group_15" class="passed">logged out</dt>
    <script type="text/javascript">makeRed('div_group_15');</script>
    <script type="text/javascript">makeRed('example_group_15');</script>
    <script type="text/javascript">moveProgressBar('68.5');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let a user view a tweet</span>
      <span class="duration">0.01667s</span>
      <div class="failure" id="failure_10">
        <div class="message"><pre>expected nil to include &quot;/login&quot;, but it does not respond to `include?`</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:303:in `block (5 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">301</span>        tweet = <span class="constant">Tweet</span>.create(<span class="symbol">:content</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">i am a boss at tweeting</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:user_id</span> =&gt; user.id)
<span class="linenum">302</span>        get <span class="string"><span class="delimiter">&quot;</span><span class="content">/tweets/</span><span class="inline"><span class="inline-delimiter">#{</span>tweet.id<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
<span class="offending"><span class="linenum">303</span>        expect(last_response.location).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">304</span>      <span class="keyword">end</span>
<span class="linenum">305</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_16" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_16" class="passed">edit action</dt>
  </dl>
</div>
<div id="div_group_17" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_17" class="passed">logged in</dt>
    <script type="text/javascript">makeRed('div_group_17');</script>
    <script type="text/javascript">makeRed('example_group_17');</script>
    <script type="text/javascript">moveProgressBar('71.4');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets a user view tweet edit form if they are logged in</span>
      <span class="duration">0.11837s</span>
      <div class="failure" id="failure_11">
        <div class="message"><pre>
expected: 200
     got: 404

(compared using ==)
</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:322:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">320</span>        click_button <span class="string"><span class="delimiter">'</span><span class="content">submit</span><span class="delimiter">'</span></span>
<span class="linenum">321</span>        visit <span class="string"><span class="delimiter">'</span><span class="content">/tweets/1/edit</span><span class="delimiter">'</span></span>
<span class="offending"><span class="linenum">322</span>        expect(page.status_code).to eq(<span class="integer">200</span>)</span>
<span class="linenum">323</span>        expect(page.body).to include(tweet.content)
<span class="linenum">324</span>      <span class="keyword">end</span></code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('74.2');</script>
    <dd class="example passed"><span class="passed_spec_name">does not let a user edit a tweet they did not create</span><span class='duration'>0.13466s</span></dd>
    <script type="text/javascript">moveProgressBar('77.1');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets a user edit their own tweet if they are logged in</span>
      <span class="duration">0.16080s</span>
      <div class="failure" id="failure_12">
        <div class="message"><pre>Unable to find field :content</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:58:in `fill_in&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:355:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('80.0');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let a user edit a text with blank content</span>
      <span class="duration">0.12081s</span>
      <div class="failure" id="failure_13">
        <div class="message"><pre>Unable to find field :content</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:58:in `fill_in&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:374:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_18" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_18" class="passed">logged out</dt>
    <script type="text/javascript">makeRed('div_group_18');</script>
    <script type="text/javascript">makeRed('example_group_18');</script>
    <script type="text/javascript">moveProgressBar('82.8');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not load let user view tweet edit form if not logged in</span>
      <span class="duration">0.01351s</span>
      <div class="failure" id="failure_14">
        <div class="message"><pre>expected nil to include &quot;/login&quot;, but it does not respond to `include?`</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:386:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">384</span>      it <span class="string"><span class="delimiter">'</span><span class="content">does not load let user view tweet edit form if not logged in</span><span class="delimiter">'</span></span> <span class="keyword">do</span>
<span class="linenum">385</span>        get <span class="string"><span class="delimiter">'</span><span class="content">/tweets/1/edit</span><span class="delimiter">'</span></span>
<span class="offending"><span class="linenum">386</span>        expect(last_response.location).to include(<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">387</span>      <span class="keyword">end</span>
<span class="linenum">388</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_19" class="example_group passed">
  <dl style="margin-left: 15px;">
  <dt id="example_group_19" class="passed">delete action</dt>
  </dl>
</div>
<div id="div_group_20" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_20" class="passed">logged in</dt>
    <script type="text/javascript">makeRed('div_group_20');</script>
    <script type="text/javascript">makeRed('example_group_20');</script>
    <script type="text/javascript">moveProgressBar('85.7');</script>
    <dd class="example failed">
      <span class="failed_spec_name">lets a user delete their own tweet if they are logged in</span>
      <span class="duration">0.08822s</span>
      <div class="failure" id="failure_15">
        <div class="message"><pre>Unable to find button &quot;Delete Tweet&quot;</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:39:in `click_button&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:403:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
    <script type="text/javascript">moveProgressBar('88.5');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not let a user delete a tweet they did not create</span>
      <span class="duration">0.11948s</span>
      <div class="failure" id="failure_16">
        <div class="message"><pre>Unable to find button &quot;Delete Tweet&quot;</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:43:in `block in find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/base.rb:84:in `synchronize&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/finders.rb:32:in `find&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/node/actions.rb:39:in `click_button&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/session.rb:698:in `block (2 levels) in &lt;class:Session&gt;&#39;
/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/capybara-2.5.0/lib/capybara/dsl.rb:51:in `block (2 levels) in &lt;module:DSL&gt;&#39;
./spec/controllers/application_controller_spec.rb:421:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">41</span>          <span class="keyword">end</span>
<span class="linenum">42</span>          <span class="keyword">if</span> result.size == <span class="integer">0</span>
<span class="offending"><span class="linenum">43</span>            raise <span class="constant">Capybara</span>::<span class="constant">ElementNotFound</span>.new(<span class="string"><span class="delimiter">&quot;</span><span class="content">Unable to find </span><span class="inline"><span class="inline-delimiter">#{</span>query.description<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">44</span>          <span class="keyword">end</span>
<span class="linenum">45</span>          result.first</code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_21" class="example_group passed">
  <dl style="margin-left: 30px;">
  <dt id="example_group_21" class="passed">logged out</dt>
    <script type="text/javascript">makeRed('div_group_21');</script>
    <script type="text/javascript">makeRed('example_group_21');</script>
    <script type="text/javascript">moveProgressBar('91.4');</script>
    <dd class="example failed">
      <span class="failed_spec_name">does not load let user delete a tweet if not logged in</span>
      <span class="duration">0.01353s</span>
      <div class="failure" id="failure_17">
        <div class="message"><pre>
expected: &quot;/login&quot;
     got: &quot;/tweets/1&quot;

(compared using ==)
</pre></div>
        <div class="backtrace"><pre>./spec/controllers/application_controller_spec.rb:433:in `block (4 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">431</span>        tweet = <span class="constant">Tweet</span>.create(<span class="symbol">:content</span> =&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">tweeting!</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:user_id</span> =&gt; <span class="integer">1</span>)
<span class="linenum">432</span>        visit <span class="string"><span class="delimiter">'</span><span class="content">/tweets/1</span><span class="delimiter">'</span></span>
<span class="offending"><span class="linenum">433</span>        expect(page.current_path).to eq(<span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>)</span>
<span class="linenum">434</span>      <span class="keyword">end</span>
<span class="linenum">435</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<div id="div_group_22" class="example_group passed">
  <dl style="margin-left: 0px;">
  <dt id="example_group_22" class="passed">User</dt>
    <script type="text/javascript">moveProgressBar('94.2');</script>
    <dd class="example passed"><span class="passed_spec_name">can slug the username</span><span class='duration'>0.01290s</span></dd>
    <script type="text/javascript">moveProgressBar('97.1');</script>
    <dd class="example passed"><span class="passed_spec_name">can find a user based on the slug</span><span class='duration'>0.01720s</span></dd>
    <script type="text/javascript">makeRed('div_group_22');</script>
    <script type="text/javascript">makeRed('example_group_22');</script>
    <script type="text/javascript">moveProgressBar('100.0');</script>
    <dd class="example failed">
      <span class="failed_spec_name">has a secure password</span>
      <span class="duration">0.00965s</span>
      <div class="failure" id="failure_18">
        <div class="message"><pre>undefined method `authenticate&#39; for #&lt;User:0x007fbaf4f21730&gt;</pre></div>
        <div class="backtrace"><pre>/Users/brandenmiller/.rvm/gems/ruby-2.2.3/gems/activemodel-4.2.5/lib/active_model/attribute_methods.rb:433:in `method_missing&#39;
./spec/models/user_spec.rb:18:in `block (2 levels) in &lt;top (required)&gt;&#39;</pre></div>
    <pre class="ruby"><code><span class="linenum">431</span>      <span class="keyword">else</span>
<span class="linenum">432</span>        match = match_attribute_method?(method.to_s)
<span class="offending"><span class="linenum">433</span>        match ? attribute_missing(match, *args, &amp;block) : <span class="keyword">super</span></span>
<span class="linenum">434</span>      <span class="keyword">end</span>
<span class="linenum">435</span>    <span class="keyword">end</span></code></pre>
      </div>
    </dd>
  </dl>
</div>
<script type="text/javascript">document.getElementById('duration').innerHTML = "Finished in <strong>2.53870 seconds</strong>";</script>
<script type="text/javascript">document.getElementById('totals').innerHTML = "35 examples, 18 failures";</script>
</div>
</div>
</body>
</html>
